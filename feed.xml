<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>sukai's blog</title>
    <link href="" rel="self" />
    <link href="http://sukai.me/" />
    <updated>2016-10-31T18:00:00Z</updated>
    <id>http://sukai.me/</id>
    
    <entry>
        <title><![CDATA[Caffe Blobæºç é˜…è¯»]]></title>
        <author><name>SuKai</name><uri>http://sukai.me/</uri></author>
        <link href="http://sukai.me/caffe-blob-source-code/"/>
        <updated>2016-10-31T18:00:00Z</updated>
        <published>2016-10-31T18:00:00Z</published>
        <id>http://sukai.me/caffe-blob-source-code/</id>
        <content type="html">
            <![CDATA[
             <p>æœ¬æ–‡ä»…ç”¨äºæ•´ç†é˜…è¯»Caffeæºç è¿‡ç¨‹ä¸­çš„è®°å½•ï¼Œæ‰€å†™å†…å®¹åªç¡®ä¿æœ¬äººçœ‹æ‡‚  </p>

<p>Blobæ˜¯Caffeä¸­å¤„ç†å’Œä¼ é€’å®é™…æ•°æ®çš„æ•°æ®å°è£…åŒ…ï¼Œå¹¶ä¸”åœ¨CPUäºGPUä¹‹é—´å…·æœ‰åŒæ­¥å¤„ç†èƒ½åŠ›  </p>

<h4>Blobç±»æˆå‘˜</h4>

<p>Blobæ˜¯è¿ç»­å­˜å‚¨çš„Nç»´æ•°ç»„ï¼Œåœ¨ <strong>blob.hpp</strong> ä¸­å®šä¹‰äº†Blobçš„æˆå‘˜å˜é‡  </p>
<div class="highlight"><pre><span class="nl">protected:</span>  
  <span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SyncedMemory</span><span class="o">&gt;</span> <span class="n">data_</span><span class="p">;</span>  
  <span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SyncedMemory</span><span class="o">&gt;</span> <span class="n">diff_</span><span class="p">;</span>  
  <span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SyncedMemory</span><span class="o">&gt;</span> <span class="n">shape_data_</span><span class="p">;</span> <span class="c1">// æ¯ä¸€ç»´æ•°æ®çš„å¤§å°  </span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">shape_</span><span class="p">;</span>  
  <span class="kt">int</span> <span class="n">count_</span><span class="p">;</span> <span class="c1">// å½“å‰å®¹é‡  </span>
  <span class="kt">int</span> <span class="n">capacity_</span><span class="p">;</span> <span class="c1">// èƒ½æ‰¿å—çš„å®¹é‡</span>
</pre></div>

<p>data_ å­˜å‚¨å‰å‘ä¼ æ’­çš„æ•°æ®ï¼Œdiff_ å­˜å‚¨åå‘ä¼ æ’­çš„æ¢¯åº¦ï¼›shape_ data_ å’Œ shape_è®°å½•äº†æ¯ä¸€ç»´åº¦æ•°æ®çš„å¤§å°  </p>

<p>ä¸€ä¸ªBlobæœ€å¤šå¯ä»¥è¡¨ç¤º <strong>const int kMaxBlobAxes = 32;</strong> 32ç»´çš„æ•°ç»„  </p>

<h4>Blobç±»ç›¸å…³æ“ä½œ</h4>

<p><strong>1.æ„é€ å‡½æ•°</strong>  </p>
<div class="highlight"><pre><span class="k">explicit</span> <span class="nf">Blob</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">channels</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">height</span><span class="p">,</span>  
      <span class="k">const</span> <span class="kt">int</span> <span class="n">width</span><span class="p">);</span>  
<span class="k">explicit</span> <span class="nf">Blob</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">shape</span><span class="p">);</span>
</pre></div>

<p>åœ¨ <strong>blob.cpp</strong> ä¸­ï¼Œæ„é€ å‡½æ•°ä¼šè°ƒç”¨ <strong>Reshape</strong> å®Œæˆåˆå§‹åŒ–æ“ä½œï¼Œä¸º data_ å’Œ diff_ åˆ†é…å…±äº«å†…å­˜å¯¹è±¡SyncedMemory  </p>
<div class="highlight"><pre><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">Blob</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">channels</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">height</span><span class="p">,</span>  
    <span class="k">const</span> <span class="kt">int</span> <span class="n">width</span><span class="p">)</span>  
  <span class="c1">// capacity_ must be initialized before calling Reshape  </span>
  <span class="o">:</span> <span class="n">capacity_</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  
  <span class="n">Reshape</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">);</span>  
<span class="p">}</span>  

<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">Blob</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">shape</span><span class="p">)</span>  
  <span class="c1">// capacity_ must be initialized before calling Reshape  </span>
  <span class="o">:</span> <span class="n">capacity_</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  
  <span class="n">Reshape</span><span class="p">(</span><span class="n">shape</span><span class="p">);</span>  
<span class="p">}</span>
</pre></div>

<p><strong>2.Reshape</strong>ï¼šä¿®æ”¹Blobçš„å¤§å°ï¼ˆå°ºå¯¸ï¼‰  </p>
<div class="highlight"><pre><span class="kt">void</span> <span class="nf">Reshape</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">channels</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">height</span><span class="p">,</span>  
      <span class="k">const</span> <span class="kt">int</span> <span class="n">width</span><span class="p">);</span>  
<span class="kt">void</span> <span class="nf">Reshape</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">shape</span><span class="p">);</span>  
<span class="kt">void</span> <span class="nf">Reshape</span><span class="p">(</span><span class="k">const</span> <span class="n">BlobShape</span><span class="o">&amp;</span> <span class="n">shape</span><span class="p">);</span>  
<span class="kt">void</span> <span class="nf">ReshapeLike</span><span class="p">(</span><span class="k">const</span> <span class="n">Blob</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">);</span>
</pre></div>

<p>æ‰€æœ‰é‡è½½Reshapeå‡½æ•°æœ€ç»ˆéƒ½è°ƒç”¨ void Blob<Dtype>::Reshape(const vector<int>&amp; shape)ã€‚ç‰¹åˆ«åœ°ï¼Œå½“å†…å­˜ç©ºé—´ä¸è¶³æ—¶(count_ &gt; capacity_)ï¼Œä¼šä¸ºBlobé‡æ–°åˆ†é…å†…å­˜  </p>
<div class="highlight"><pre><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="kt">void</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">Reshape</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">shape</span><span class="p">)</span> <span class="p">{</span>  
  <span class="n">CHECK_LE</span><span class="p">(</span><span class="n">shape</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">kMaxBlobAxes</span><span class="p">);</span>  
  <span class="n">count_</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>  
  <span class="n">shape_</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">shape</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>  
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">shape_data_</span> <span class="o">||</span> <span class="n">shape_data_</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">shape</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span> <span class="p">{</span>  
    <span class="n">shape_data_</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span> <span class="n">SyncedMemory</span><span class="p">(</span><span class="n">shape</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>  
  <span class="p">}</span>  
  <span class="kt">int</span><span class="o">*</span> <span class="n">shape_data</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">shape_data_</span><span class="o">-&gt;</span><span class="n">mutable_cpu_data</span><span class="p">());</span>  
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">shape</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>  
    <span class="n">CHECK_GE</span><span class="p">(</span><span class="n">shape</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>  
    <span class="k">if</span> <span class="p">(</span><span class="n">count_</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  
      <span class="n">CHECK_LE</span><span class="p">(</span><span class="n">shape</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">INT_MAX</span> <span class="o">/</span> <span class="n">count_</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;blob size exceeds INT_MAX&quot;</span><span class="p">;</span>  
    <span class="p">}</span>  
    <span class="n">count_</span> <span class="o">*=</span> <span class="n">shape</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>  
    <span class="n">shape_</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">shape</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>  
    <span class="n">shape_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">shape</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>  
  <span class="p">}</span>  
  <span class="k">if</span> <span class="p">(</span><span class="n">count_</span> <span class="o">&gt;</span> <span class="n">capacity_</span><span class="p">)</span> <span class="p">{</span>  
    <span class="n">capacity_</span> <span class="o">=</span> <span class="n">count_</span><span class="p">;</span>  
    <span class="n">data_</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span> <span class="n">SyncedMemory</span><span class="p">(</span><span class="n">capacity_</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">Dtype</span><span class="p">)));</span>  
    <span class="n">diff_</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span> <span class="n">SyncedMemory</span><span class="p">(</span><span class="n">capacity_</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">Dtype</span><span class="p">)));</span>  
  <span class="p">}</span>  
<span class="p">}</span>
</pre></div>

<p><strong>3.offset</strong>ç”¨äºç»™å®šåæ ‡ï¼Œè·å–Blobç›¸åº”åæ ‡æ•°æ®ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæ‰¹é‡å›¾åƒæ•°æ®æ¥è¯´ï¼Œblobå¸¸è§„çš„ç»´æ•°ä¸ºå›¾åƒæ•°é‡ N  * é€šé“æ•° K * å›¾åƒé«˜åº¦ H * å›¾åƒå®½åº¦ Wã€‚BlobæŒ‰è¡Œä¸ºä¸»å­˜å‚¨ã€‚æ‰€ä»¥4ç»´blobï¼Œåæ ‡ä¸ºï¼ˆnï¼Œkï¼Œhï¼Œwï¼‰çš„å€¼åœ¨blobä¸­çš„ç‰©ç†ä½ç½®ä¸ºï¼ˆï¼ˆn * K + kï¼‰* H + hï¼‰* W + w  </p>
<div class="highlight"><pre><span class="kr">inline</span> <span class="kt">int</span> <span class="nf">offset</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  
      <span class="k">const</span> <span class="kt">int</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>  
    <span class="n">CHECK_GE</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>  
    <span class="n">CHECK_LE</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">num</span><span class="p">());</span>  
    <span class="n">CHECK_GE</span><span class="p">(</span><span class="n">channels</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>  
    <span class="n">CHECK_LE</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">channels</span><span class="p">());</span>  
    <span class="n">CHECK_GE</span><span class="p">(</span><span class="n">height</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>  
    <span class="n">CHECK_LE</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">height</span><span class="p">());</span>  
    <span class="n">CHECK_GE</span><span class="p">(</span><span class="n">width</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>  
    <span class="n">CHECK_LE</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">width</span><span class="p">());</span>  
    <span class="k">return</span> <span class="p">((</span><span class="n">n</span> <span class="o">*</span> <span class="n">channels</span><span class="p">()</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="n">height</span><span class="p">()</span> <span class="o">+</span> <span class="n">h</span><span class="p">)</span> <span class="o">*</span> <span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="n">w</span><span class="p">;</span>  
  <span class="p">}</span>  

  <span class="kr">inline</span> <span class="kt">int</span> <span class="n">offset</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">indices</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>  
    <span class="n">CHECK_LE</span><span class="p">(</span><span class="n">indices</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">num_axes</span><span class="p">());</span>  
    <span class="kt">int</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_axes</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>  
      <span class="n">offset</span> <span class="o">*=</span> <span class="n">shape</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>  
      <span class="k">if</span> <span class="p">(</span><span class="n">indices</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>  
        <span class="n">CHECK_GE</span><span class="p">(</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">0</span><span class="p">);</span>  
        <span class="n">CHECK_LT</span><span class="p">(</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">shape</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>  
        <span class="n">offset</span> <span class="o">+=</span> <span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>  
      <span class="p">}</span>  
    <span class="p">}</span>  
    <span class="k">return</span> <span class="n">offset</span><span class="p">;</span>  
  <span class="p">}</span>
</pre></div>

<p><strong>4.Blobçš„Update</strong>ï¼šå‚æ•°æ›´æ–°æ“ä½œ  </p>

<p>å®Œæˆæ¢¯åº¦ä¸‹é™è¿‡ç¨‹ä¸­çš„å‚æ•°æ›´æ–°ï¼š  </p>

<p>$$data_{k+1} = data_k - diff$$  </p>
<div class="highlight"><pre><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="kt">void</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">Update</span><span class="p">()</span> <span class="p">{</span>  
  <span class="c1">// We will perform update based on where the data is located.  </span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">data_</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">())</span> <span class="p">{</span>  
  <span class="k">case</span> <span class="n">SyncedMemory</span>:<span class="o">:</span><span class="n">HEAD_AT_CPU</span><span class="o">:</span>  
    <span class="c1">// perform computation on CPU  </span>
    <span class="n">caffe_axpy</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;</span><span class="p">(</span><span class="n">count_</span><span class="p">,</span> <span class="n">Dtype</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>  
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">Dtype</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">diff_</span><span class="o">-&gt;</span><span class="n">cpu_data</span><span class="p">()),</span>  
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data_</span><span class="o">-&gt;</span><span class="n">mutable_cpu_data</span><span class="p">()));</span>  
    <span class="k">break</span><span class="p">;</span>  
  <span class="k">case</span> <span class="n">SyncedMemory</span>:<span class="o">:</span><span class="n">HEAD_AT_GPU</span><span class="o">:</span>  
  <span class="k">case</span> <span class="n">SyncedMemory</span>:<span class="o">:</span><span class="n">SYNCED</span><span class="o">:</span>  
<span class="cp">#ifndef CPU_ONLY  </span>
    <span class="c1">// perform computation on GPU  </span>
    <span class="n">caffe_gpu_axpy</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;</span><span class="p">(</span><span class="n">count_</span><span class="p">,</span> <span class="n">Dtype</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>  
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">Dtype</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">diff_</span><span class="o">-&gt;</span><span class="n">gpu_data</span><span class="p">()),</span>  
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data_</span><span class="o">-&gt;</span><span class="n">mutable_gpu_data</span><span class="p">()));</span>  
<span class="cp">#else  </span>
    <span class="n">NO_GPU</span><span class="p">;</span>  
<span class="cp">#endif  </span>
    <span class="k">break</span><span class="p">;</span>  
  <span class="k">default</span><span class="o">:</span>  
    <span class="n">LOG</span><span class="p">(</span><span class="n">FATAL</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Syncedmem not initialized.&quot;</span><span class="p">;</span>  
  <span class="p">}</span>  
<span class="p">}</span>
</pre></div>

<h4>SyncedMemoryç±»</h4>

<p>Blobä¸­çš„data å’Œ diff æ—¢å¯ä»¥å­˜å‚¨åœ¨CPUä¸Šï¼Œä¹Ÿå¯ä»¥å­˜å‚¨åœ¨GPUä¸Šã€‚Blobä¸ç”¨å»æ‹…å¿ƒæ•°æ®çš„åˆ†é…ä»¥åŠGPU/CPUåŒæ­¥é—®é¢˜ï¼Œè€Œäº¤ç”±SyncedMemoryå»ç®¡ç†  </p>

<p>SyncedMemoryå®Œæˆäº†æ•°æ®åœ¨CPUå’ŒGPUä¸Šçš„åŒæ­¥ï¼Œä»¥åŠå†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾æ“ä½œ  </p>

<p>åœ¨Blobä¸­è®¿é—®æ•°æ®ï¼š  </p>

<ul>
<li>ä¸€ç§æ˜¯ä»¥ const æ–¹å¼åªè¯»ï¼Œä¸æ”¹å˜æ•°å€¼<br/></li>
<li>ä¸€ç§mutableå¯æ”¹å˜æ•°å€¼çš„åŠ¨æ€æ–¹å¼<br/></li>
</ul>

<p>æœ€ç»ˆéƒ½æ˜¯äº¤ç”± SyncedMemory çš„æ•°æ®è®¿é—®å‡½æ•° cpu_data() å’Œ mutable_cpu_data()  </p>
<div class="highlight"><pre><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="k">const</span> <span class="n">Dtype</span><span class="o">*</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">cpu_data</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>  
  <span class="n">CHECK</span><span class="p">(</span><span class="n">data_</span><span class="p">);</span>  
  <span class="k">return</span> <span class="p">(</span><span class="k">const</span> <span class="n">Dtype</span><span class="o">*</span><span class="p">)</span><span class="n">data_</span><span class="o">-&gt;</span><span class="n">cpu_data</span><span class="p">();</span>  
<span class="p">}</span>  

<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="k">const</span> <span class="n">Dtype</span><span class="o">*</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">gpu_data</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>  
  <span class="n">CHECK</span><span class="p">(</span><span class="n">data_</span><span class="p">);</span>  
  <span class="k">return</span> <span class="p">(</span><span class="k">const</span> <span class="n">Dtype</span><span class="o">*</span><span class="p">)</span><span class="n">data_</span><span class="o">-&gt;</span><span class="n">gpu_data</span><span class="p">();</span>  
<span class="p">}</span>  

<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="n">Dtype</span><span class="o">*</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">mutable_cpu_data</span><span class="p">()</span> <span class="p">{</span>  
  <span class="n">CHECK</span><span class="p">(</span><span class="n">data_</span><span class="p">);</span>  
  <span class="k">return</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data_</span><span class="o">-&gt;</span><span class="n">mutable_cpu_data</span><span class="p">());</span>  
<span class="p">}</span>  

<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Dtype</span><span class="o">&gt;</span>  
<span class="n">Dtype</span><span class="o">*</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">mutable_gpu_data</span><span class="p">()</span> <span class="p">{</span>  
  <span class="n">CHECK</span><span class="p">(</span><span class="n">data_</span><span class="p">);</span>  
  <span class="k">return</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data_</span><span class="o">-&gt;</span><span class="n">mutable_gpu_data</span><span class="p">());</span>  
<span class="p">}</span>
</pre></div>

<p>åœ¨SyncedMemoryä¸­ï¼Œhead_ è¡¨ç¤ºæ•°æ®åŒæ­¥çŠ¶æ€  </p>
<div class="highlight"><pre><span class="k">enum</span> <span class="n">SyncedHead</span> <span class="p">{</span> <span class="n">UNINITIALIZED</span><span class="p">,</span> <span class="n">HEAD_AT_CPU</span><span class="p">,</span> <span class="n">HEAD_AT_GPU</span><span class="p">,</span> <span class="n">SYNCED</span> <span class="p">};</span>
</pre></div>

<p>å¹¶ä¸”é€šè¿‡ to_cpu å’Œ to_gpu è¿›è¡Œæ•°æ®åŒæ­¥  </p>
<div class="highlight"><pre><span class="kr">inline</span> <span class="kt">void</span> <span class="n">SyncedMemory</span><span class="o">::</span><span class="n">to_cpu</span><span class="p">()</span> <span class="p">{</span>  
  <span class="k">switch</span> <span class="p">(</span><span class="n">head_</span><span class="p">)</span> <span class="p">{</span>  
  <span class="k">case</span> <span class="n">UNINITIALIZED</span>:  
    <span class="n">CaffeMallocHost</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cpu_ptr_</span><span class="p">,</span> <span class="n">size_</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cpu_malloc_use_cuda_</span><span class="p">);</span>  
    <span class="n">caffe_memset</span><span class="p">(</span><span class="n">size_</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">cpu_ptr_</span><span class="p">);</span>  
    <span class="n">head_</span> <span class="o">=</span> <span class="n">HEAD_AT_CPU</span><span class="p">;</span>  
    <span class="n">own_cpu_data_</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>  
    <span class="k">break</span><span class="p">;</span>  
  <span class="k">case</span> <span class="n">HEAD_AT_GPU</span>:  
<span class="cp">#ifndef CPU_ONLY  </span>
    <span class="k">if</span> <span class="p">(</span><span class="n">cpu_ptr_</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>  
      <span class="n">CaffeMallocHost</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cpu_ptr_</span><span class="p">,</span> <span class="n">size_</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cpu_malloc_use_cuda_</span><span class="p">);</span>  
      <span class="n">own_cpu_data_</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>  
    <span class="p">}</span>  
    <span class="n">caffe_gpu_memcpy</span><span class="p">(</span><span class="n">size_</span><span class="p">,</span> <span class="n">gpu_ptr_</span><span class="p">,</span> <span class="n">cpu_ptr_</span><span class="p">);</span>  
    <span class="n">head_</span> <span class="o">=</span> <span class="n">SYNCED</span><span class="p">;</span>  
<span class="cp">#else  </span>
    <span class="n">NO_GPU</span><span class="p">;</span>  
<span class="cp">#endif  </span>
    <span class="k">break</span><span class="p">;</span>  
  <span class="k">case</span> <span class="n">HEAD_AT_CPU</span>:  
  <span class="k">case</span> <span class="n">SYNCED</span>:  
    <span class="k">break</span><span class="p">;</span>  
  <span class="p">}</span>  
<span class="p">}</span>  

<span class="kr">inline</span> <span class="kt">void</span> <span class="n">SyncedMemory</span><span class="o">::</span><span class="n">to_gpu</span><span class="p">()</span> <span class="p">{</span>  
<span class="cp">#ifndef CPU_ONLY  </span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">head_</span><span class="p">)</span> <span class="p">{</span>  
  <span class="k">case</span> <span class="n">UNINITIALIZED</span>:  
    <span class="n">CUDA_CHECK</span><span class="p">(</span><span class="n">cudaGetDevice</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gpu_device_</span><span class="p">));</span>  
    <span class="n">CUDA_CHECK</span><span class="p">(</span><span class="n">cudaMalloc</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gpu_ptr_</span><span class="p">,</span> <span class="n">size_</span><span class="p">));</span>  
    <span class="n">caffe_gpu_memset</span><span class="p">(</span><span class="n">size_</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">gpu_ptr_</span><span class="p">);</span>  
    <span class="n">head_</span> <span class="o">=</span> <span class="n">HEAD_AT_GPU</span><span class="p">;</span>  
    <span class="n">own_gpu_data_</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>  
    <span class="k">break</span><span class="p">;</span>  
  <span class="k">case</span> <span class="n">HEAD_AT_CPU</span>:  
    <span class="k">if</span> <span class="p">(</span><span class="n">gpu_ptr_</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>  
      <span class="n">CUDA_CHECK</span><span class="p">(</span><span class="n">cudaGetDevice</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gpu_device_</span><span class="p">));</span>  
      <span class="n">CUDA_CHECK</span><span class="p">(</span><span class="n">cudaMalloc</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gpu_ptr_</span><span class="p">,</span> <span class="n">size_</span><span class="p">));</span>  
      <span class="n">own_gpu_data_</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>  
    <span class="p">}</span>  
    <span class="n">caffe_gpu_memcpy</span><span class="p">(</span><span class="n">size_</span><span class="p">,</span> <span class="n">cpu_ptr_</span><span class="p">,</span> <span class="n">gpu_ptr_</span><span class="p">);</span>  
    <span class="n">head_</span> <span class="o">=</span> <span class="n">SYNCED</span><span class="p">;</span>  
    <span class="k">break</span><span class="p">;</span>  
  <span class="k">case</span> <span class="n">HEAD_AT_GPU</span>:  
  <span class="k">case</span> <span class="n">SYNCED</span>:  
    <span class="k">break</span><span class="p">;</span>  
  <span class="p">}</span>  
<span class="cp">#else  </span>
  <span class="n">NO_GPU</span><span class="p">;</span>  
<span class="cp">#endif  </span>
<span class="p">}</span>
</pre></div>

<p>å®˜æ–¹æœ‰ä¸ªCPU/GPUæ•°æ®åŒæ­¥çš„ä¾‹å­ï¼š  </p>
<div class="highlight"><pre><span class="c1">// Assuming that data are on the CPU initially, and we have a blob.  </span>
<span class="k">const</span> <span class="n">Dtype</span><span class="o">*</span> <span class="n">foo</span><span class="p">;</span>  
<span class="n">Dtype</span><span class="o">*</span> <span class="n">bar</span><span class="p">;</span>  
<span class="n">foo</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">gpu_data</span><span class="p">();</span> <span class="c1">// data copied cpu-&gt;gpu.  </span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">cpu_data</span><span class="p">();</span> <span class="c1">// no data copied since both have up-to-date contents.  </span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">mutable_gpu_data</span><span class="p">();</span> <span class="c1">// no data copied.  </span>
<span class="c1">// ... some operations ...  </span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">mutable_gpu_data</span><span class="p">();</span> <span class="c1">// no data copied when we are still on GPU.  </span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">cpu_data</span><span class="p">();</span> <span class="c1">// data copied gpu-&gt;cpu, since the gpu side has modified the data  </span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">gpu_data</span><span class="p">();</span> <span class="c1">// no data copied since both have up-to-date contents  </span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">mutable_cpu_data</span><span class="p">();</span> <span class="c1">// still no data copied.  </span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">mutable_gpu_data</span><span class="p">();</span> <span class="c1">// data copied cpu-&gt;gpu.  </span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">mutable_cpu_data</span><span class="p">();</span> <span class="c1">// data copied gpu-&gt;cpu.</span>
</pre></div>

<h4>Blobçš„åºåˆ—åŒ–</h4>

<p>Blobé€šè¿‡Google Protocol Buffersè¿›è¡Œç›¸åº”çš„åºåˆ—åŒ–æ“ä½œï¼Œç›¸åº”çš„å‡½æ•°æœ‰  </p>
<div class="highlight"><pre><span class="kt">void</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="n">Dtype</span><span class="o">&gt;::</span><span class="n">FromProto</span><span class="p">(</span><span class="k">const</span> <span class="n">BlobProto</span><span class="o">&amp;</span> <span class="n">proto</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">reshape</span><span class="p">)</span>  
<span class="kt">void</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">ToProto</span><span class="p">(</span><span class="n">BlobProto</span><span class="o">*</span> <span class="n">proto</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">write_diff</span><span class="p">)</span>  
<span class="kt">void</span> <span class="n">Blob</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;::</span><span class="n">ToProto</span><span class="p">(</span><span class="n">BlobProto</span><span class="o">*</span> <span class="n">proto</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">write_diff</span><span class="p">)</span>
</pre></div>

<h4>æ€»ç»“</h4>

<p>Blonè¯¦ç»†æè¿°äº†ä¿¡æ¯æ˜¯å¦‚ä½•åœ¨Layerå’ŒNetä¸­å­˜å‚¨å’Œäº¤æ¢çš„ï¼Œæ˜¯ç†è§£Layerå’ŒNetçš„åŸºç¡€  </p>

<hr/>

<p>References  </p>

<ul>
<li><a href="https://github.com/BVLC/caffe"><a href="https://github.com/BVLC/caffe">https://github.com/BVLC/caffe</a></a><br/></li>
<li><a href="http://imbinwang.github.io/blog/inside-caffe-code-blob" target="_blank"><a href="http://imbinwang.github.io/blog/inside-caffe-code-blob">http://imbinwang.github.io/blog/inside-caffe-code-blob</a></a><br/></li>
</ul>

            ]]>
        </content>
    </entry>
    
    <entry>
        <title><![CDATA[Face Alignment Summary]]></title>
        <author><name>SuKai</name><uri>http://sukai.me/</uri></author>
        <link href="http://sukai.me/face-alignment-summary/"/>
        <updated>2016-08-24T21:00:00Z</updated>
        <published>2016-08-24T21:00:00Z</published>
        <id>http://sukai.me/face-alignment-summary/</id>
        <content type="html">
            <![CDATA[
             <p>ä»¥æˆ‘ç›®å‰æ‰€è¯»è®ºæ–‡ä¸ºä¾æ®ï¼Œç°æœ‰ç®—æ³•å¤§ä½“ä¸Šåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š  </p>

<ul>
<li>1. Classifying Search Windows<br/></li>
<li>2. Directly Predict Key Point Positionsï¼ˆor Shape Parametersï¼‰<br/></li>
</ul>

<p>æš‚æ—¶æ²¡æœ‰æ¥è§¦ç¬¬ä¸€ç§categoryçš„paperï¼Œç¬¬äºŒç§è¿˜å¯ä»¥ç»†åˆ†ä¸ºä¸¤ç§ï¼š  </p>

<ul>
<li>1. åŸºäºæ¨¡å‹ï¼ˆModel Basedï¼‰ï¼Œä»£è¡¨æœ‰AAMã€ASM<br/></li>
<li>2. åŸºäºå›å½’ï¼ˆRegression Basedï¼‰ã€‚è¿˜å¯ä»¥ç»†åˆ†ä¸ºåŸºäºçº¿æ€§å›å½’çš„ï¼Œä»£è¡¨æœ‰CPR, LBFç­‰ï¼›åŸºäºéçº¿æ€§å›å½’çš„ï¼Œä»£è¡¨æœ‰DCNNã€CFANã€TDAç­‰<br/></li>
</ul>

<p>å¯¹æ¯ä¸ªpaperæˆ‘å…³æ³¨ä»¥ä¸‹å‡ ç‚¹ï¼š  </p>

<ul>
<li>å±äºé‚£ç§æ¡†æ¶æˆ–æ¨¡å‹ï¼šåŸºäºModelï¼ŸCascadedï¼ˆçº§è”ï¼‰æ¨¡å‹ï¼ŸåŸºäºDeep Learningçš„éçº¿æ€§å›å½’æ¨¡å‹ï¼Ÿç­‰ç­‰<br/></li>
<li>ä¼˜ç¼ºç‚¹ï¼šç®—æ³•çš„Speedã€Accuracyï¼›æ˜¯å¦åˆ©ç”¨ç‰¹å¾ç‚¹ä¹‹é—´çš„ç›¸å¯¹ä½ç½®å…³ç³»ï¼ˆGeometric/Shape Constraintsï¼‰ä»¥å¢å¼ºé²æ£’æ€§ï¼›å¯¹Occlusionã€Pose Variationsã€Lightingçš„æ˜¯å¤Ÿæ•æ„Ÿ<br/></li>
<li>Featureæ˜¯å¦‚ä½•æå–çš„ï¼Œä½¿ç”¨çš„æ˜¯Local Featureè¿˜æ˜¯Global Feature<br/></li>
</ul>

<h3>Model Based</h3>

<p>åŸºäºæ¨¡å‹çš„è®ºæ–‡éƒ½å¯¹äººè„¸å»ºç«‹äº†ä¸€å®šçš„æ¨¡å‹ï¼Œä¹Ÿæ˜¯è®ºæ–‡çš„æ ¸å¿ƒideaï¼Œè¾ƒä¸ºå‡ºåçš„æ¨¡å‹æœ‰ï¼šAAMæ¨¡å‹ã€ASMæ¨¡å‹ã€CLMæ¨¡å‹ã€‚å®ƒä»¬æå‡ºçš„æ¨¡å‹å¯ä»¥åˆ»ç”»å‡ºäººè„¸å›¾åƒï¼Œæ‰€ä»¥åªéœ€è¦æ±‚å¾—ç‰¹å®šäººè„¸å¯¹åº”çš„æ¨¡å‹å‚æ•°ï¼ˆå³Directly Predict Shape Parametersï¼‰ï¼Œå³å¯åˆæˆç›¸åº”çš„äººè„¸å›¾åƒ  </p>

<p>ASMï¼ˆActive Shape Modelï¼‰æ˜¯ä¸€ç§åŸºäºç‚¹åˆ†å¸ƒæ¨¡å‹ï¼ˆPoint Distribution Modelï¼‰çš„ç®—æ³•ï¼ŒAAMï¼ˆActive Appearance Modelï¼‰åˆ™åœ¨ASMåŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥å¯¹çº¹ç†è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶å°†å½¢çŠ¶å’Œçº¹ç†ä¸¤ä¸ªç»Ÿè®¡æ¨¡å‹è¿›ä¸€æ­¥èåˆä¸ºè¡¨è§‚æ¨¡å‹ã€‚å…¶ä¸­ASMä¸ºæ¯ä¸ªç‰¹å¾ç‚¹æ„å»ºå±€éƒ¨ç‰¹å¾ï¼ŒAAMåˆ™ä½¿ç”¨å…¨å±€çº¹ç†ä¿¡æ¯  </p>

<p>AAMæ¨¡å‹æ‹Ÿåˆè¿‡ç¨‹å¦‚ä¸‹ï¼š  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/AAM.png" alt=""/>  </p>

<p>åŸºäºæ¨¡å‹çš„æ–¹æ³•éš¾ç‚¹åœ¨äºäººè„¸æ¨¡å‹çš„å»ºç«‹ï¼Œè€Œä¸”å¯¹åˆå§‹å€¼å¾ˆæ•æ„Ÿï¼Œé²æ£’æ€§ä¸é«˜  </p>

<p>è¿™æ–¹é¢è®ºæ–‡å¤§éƒ½åœ¨1998å¹´å·¦å³å‘è¡¨ï¼Œåªçœ‹äº†4ç¯‡ï¼Œç†è§£ä¸å¤šï¼Œå°±ç®€ç•¥ä»‹ç»  </p>

<h3>Regression Based</h3>

<p>è¯¥æ–¹æ³•å°è¯•å­¦ä¹  ä»Deteced Face Region åˆ° Facial Landmarksçš„ Mappingï¼Œæœ‰åŸºäºçº¿æ€§å’Œéçº¿æ€§Regressorçš„ä¸¤ç§æ–¹æ¡ˆ  </p>

<h4>1.çº¿æ€§Regressor</h4>

<p>1.1 Cascaded Pose Regressionï¼ˆCVPR 10ï¼‰  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/CPR.png" alt=""/>  </p>

<p>çº§è”å›å½’æ¨¡å‹åœ¨CVPR 10é¦–æ¬¡æå‡ºã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å­¦ä¹ å¤šä¸ªå›å½’å™¨ï¼Œæ¯ä¸ªå›å½’å™¨é¢„æµ‹å½“å‰å½¢çŠ¶å’ŒçœŸå®å½¢çŠ¶ä¹‹é—´çš„åå·®ï¼ˆä¹Ÿå«å¢é‡ï¼‰ï¼Œç„¶åå°†åå·®åˆæˆï¼ˆæƒ³åŠ ï¼‰åˆ°å½“å‰å½¢çŠ¶ï¼Œå½¢æˆæ–°çš„é¢„æµ‹å½¢çŠ¶ï¼Œä½œä¸ºä¸‹ä¸€ä¸ªå›å½’å™¨çš„è¾“å…¥ï¼Œä»è€Œé€æ­¥é€¼è¿‘çœŸå®å€¼  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/CPR-Test.png" alt=""/>  </p>

<p>æ¯ä¸ªå›å½’å™¨å‡ä¸ä¸€æ ·ï¼Œéœ€è¦é¢„å…ˆæå–ç‰¹å¾ï¼Œä½œä¸ºå›å½’å™¨çš„è¾“å…¥ï¼Œç‰¹å¾é‡‡ç”¨Pose-Indexed Featuresï¼ˆä¸æ˜¯å¾ˆç†è§£ç‰¹å¾æå–è¿™æ–¹é¢ï¼Œæ‡‚çš„äººå¯ä»¥å‘ŠçŸ¥æœ¬äººï¼Œä¸èƒœæ„Ÿæ¿€ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨SIFTã€HOGç­‰äººå·¥è®¾è®¡çš„ç‰¹å¾ï¼›å›å½’å‡½æ•°é‡‡ç”¨Random Fern Regressors  </p>

<p>CPRæœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼šå…¶å¯¹åˆå§‹åŒ–å½¢çŠ¶éå¸¸æ•æ„Ÿï¼Œè®ºæ–‡ä¸­ä½¿ç”¨Kæ¬¡ä¸åŒçš„åˆå§‹åŒ–å½¢çŠ¶æ¥æµ‹è¯•ï¼Œå¹¶èåˆKæ¬¡çš„æµ‹è¯•ç»“æœä½œä¸ºæœ€ç»ˆé¢„æµ‹å½¢çŠ¶ã€‚è€Œä¸”CPRä¸èƒ½æœ‰æ•ˆè§£å†³Occlusioné—®é¢˜  </p>

<p>CPRå‡ºç°åï¼Œä¹‹åçš„å›å½’æ¨¡å‹ç®—æ³•å¤§éƒ½åŸºäºçº§è”æ¡†æ¶ï¼Œç»Ÿä¸€ç§°ä½œçº§è”å›å½’æ¨¡å‹ï¼Œåªæ˜¯ä¸åŒçš„çº§è”å›å½’ç®—æ³•ä½¿ç”¨çš„Regressorå’Œç‰¹å¾ä¸åŒï¼Œåˆ«çš„åŸºæœ¬ä¸€è‡´ï¼Œæ‰€ä»¥çº§è”æ¡†æ¶çš„æå‡ºç®—æ˜¯Face Alignmentå‘å±•å²çš„ä¼Ÿå¤§ä¸€æ­¥  </p>

<p>1.2 Face Alignment by Expicit Shape Regressionï¼ˆCVPR 12ï¼‰  </p>

<p>è®ºæ–‡è®¾è®¡äº†Two-Level Boosted Regressionå¢å¼ºäº†é²æ£’æ€§ï¼Œä½¿ç”¨Correlation-Based Feature Selectionæ–¹æ¡ˆæ¥æå–Shape Indexed Featureï¼Œå¤§å¤§æé«˜äº†æ—¶é—´æ•ˆç‡  </p>

<p>Two-Level Boosted Regressionå…·ä½“æ˜¯æŒ‡ï¼šExternal-levelå’ŒInternal-levelï¼Œå³boosted regressionå’Œtwo level cascadedçš„ç»“åˆã€‚å…¶ä¸­æœ€åŸå§‹çš„å›å½’å™¨råŸºäºRandom Fernå­¦ä¹   </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/ESR.png" alt=""/>  </p>

<p>è€Œä¸”ï¼Œè®ºæ–‡æ³¨æ„åˆ°å½¢çŠ¶çº¦æŸçš„é‡è¦æ€§ã€‚å®ƒè®¤ä¸ºåªæœ‰é‚£äº›æ˜¾è‘—çš„ç‰¹å¾ç‚¹ï¼ˆçœ¼ç›ä¸­å¿ƒã€å˜´å·´è¾¹ç¼˜ï¼‰å¯ä»¥ç”±image appearanceå¯é åœ°å¾—åˆ°ï¼Œå…¶ä½™ä¸æ˜¾è‘—çš„Landmarkséœ€è¦ä½¿ç”¨ç‰¹å¾ç‚¹é—´çš„shape constraintè¿›è¡Œçº¦æŸã€‚å…ˆå‰çš„å·¥ä½œå¦‚ASMã€AAMåˆ©ç”¨å‚æ•°åŒ–çš„å½¢çŠ¶æ¨¡å‹ï¼ˆPCAï¼‰æ¥å¼ºåˆ¶è¿™ç§çº¦æŸï¼Œè€Œæœ¬æ–‡åˆ™æŠ›å¼ƒä¸çµæ´»çš„å›ºå®šæ¨¡å‹ï¼Œä½¿ç”¨boosted regressionï¼Œä½¿å¾—shape constraint adaptively enforced from coarse to fineï¼Œè®ºæ–‡çš„ç»“è®ºæ˜¯æœ€ç»ˆçš„shapeæ˜¯åˆå§‹å½¢çŠ¶å’Œæ‰€æœ‰è®­ç»ƒå½¢çŠ¶çš„çº¿æ€§ç»„åˆï¼Œåªè¦åˆå§‹å½¢çŠ¶æ»¡è¶³å½¢çŠ¶çº¦æŸï¼Œå¾—åˆ°çš„regressed shapeåœ¨ç”±æ‰€æœ‰è®­ç»ƒçš„shapeæ„æˆçš„çº¿æ€§å­ç©ºé—´ä¸­ä¹Ÿæ»¡è¶³å½¢çŠ¶çº¦æŸï¼ˆå…·ä½“è¯æ˜è§è®ºæ–‡ï¼‰ï¼Œæ‰€ä»¥å’Œä¹‹é—´é¢„å…ˆå›ºå®šçš„PCA shape modelç›¸æ¯”ï¼Œè®ºæ–‡éå‚æ•°åŒ–çš„å½¢çŠ¶çº¦æŸadaptively determined  </p>

<p>1.3 Using Conditional Regression Forestsï¼ˆCVPR 12ï¼‰  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/CRF.png" alt=""/>  </p>

<p>è®ºæ–‡ä¸åŒäºåŸºäºRegression Forestçš„æ–¹æ³•ï¼Œå®ƒçš„æ ¸å¿ƒæ˜¯åŸºäºConditional Regression Forestsã€‚ä¸€èˆ¬åŸºäºRegression Forestå­¦ä¹ åˆ°facial image patcheså’Œlocation of feature pointsä¹‹é—´çš„mappingï¼Œè€Œconditional regression foreståˆ™åŸºäºface imageçš„æŸäº›å±æ€§é¢„å…ˆè¿›è¡Œåˆ†ç±»ï¼Œç„¶ååŸºäºç‰¹å®šåˆ†ç±»ä¸‹çš„regression forestå­¦ä¹ ç›¸åº”çš„mapping  </p>

<p>å¦‚å›¾ï¼Œå¯ä»¥ä¾æ®head poseå°†å›¾ç‰‡åˆ†ä¸º5ç§Labelï¼šprofile leftï¼›leftï¼›frontï¼›rightï¼›profile right  </p>

<p>1.4 Robust Face Landmark estimation under occlusionï¼ˆICCV 13ï¼‰  </p>

<p>åˆåï¼šRobust Cascaded Pose Regressionï¼ˆRCPRï¼‰ï¼Œæ—¨åœ¨è§£å†³CPRçš„é®æŒ¡é—®é¢˜ï¼Œå®ƒåœ¨é¢„æµ‹landmarksçš„åŒæ—¶é¢„æµ‹ç‰¹å¾ç‚¹è¢«é®æŒ¡çš„çŠ¶æ€  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/RCPR.png" alt=""/>  </p>

<p>åŒæ—¶RCPRå¯¹CPRçš„åˆå§‹åŒ–æ•æ„Ÿé—®é¢˜ä¹Ÿæå‡ºäº†æ”¹è¿›ï¼Œå³æ™ºèƒ½é‡å¯ï¼šéšæœºåˆå§‹åŒ–ä¸€ç»„å½¢çŠ¶ï¼Œè¿è¡Œè‡³çº§è”æ¨¡å‹çš„å‰10%å›å½’å™¨ï¼Œç»Ÿè®¡å½¢çŠ¶é¢„æµ‹çš„æ–¹å·®ï¼Œå¦‚æœæ–¹å·®å°äºä¸€å®šé˜ˆå€¼ï¼Œè¯´æ˜è¿™ç»„åˆå§‹åŒ–ä¸é”™ï¼Œåˆ™è·‘å®Œå‰©ä¸‹çš„90%çš„çº§è”å‡½æ•°ï¼Œå¾—åˆ°æœ€ç»ˆçš„é¢„æµ‹ç»“æœï¼›å¦‚æœæ–¹å·®å¤§äºä¸€å®šé˜ˆå€¼ï¼Œåˆ™è¯´æ˜åˆå§‹åŒ–ä¸ç†æƒ³ï¼Œé€‰æ‹©é‡æ–°åˆå§‹åŒ–ä¸€ç»„å½¢çŠ¶  </p>

<p>1.5 DRMFï¼ˆCVPR 13ï¼‰  </p>

<p>è®ºæ–‡é¦–å…ˆç”¨Constrained Local Modelsï¼ˆCLMæ¨¡å‹ï¼‰å¯¹äººè„¸è¿›è¡Œå»ºæ¨¡ã€‚ä¹‹åDRMFåˆ©ç”¨SVRå¯¹å›å½’å™¨å»ºæ¨¡ï¼Œå¹¶ä½¿ç”¨HOGç‰¹å¾ï¼ˆç›¸å¯¹çš„æœ‰ï¼šSIFTç‰¹å¾ï¼‰æœ€ä¸ºå›å½’å‡½æ•°çš„è¾“å…¥ï¼Œæœ€ç»ˆé¢„æµ‹å‡ºCLMçš„äººè„¸æ¨¡å‹å‚æ•°ï¼Œè€Œä¸æ˜¯ç›´æ¥é¢„æµ‹äººè„¸çš„å½¢çŠ¶ã€‚ç”±äºæ¨¡å‹å¾ˆéš¾åˆ»ç”»å‡ºå®Œæ•´çš„äººè„¸å˜åŒ–å½¢çŠ¶ï¼Œæ‰€ä»¥é²æ£’æ€§æ¬ ç¼º  </p>

<p>1.6 Regressing Local Binary Featuresï¼ˆCVPR 14ï¼‰  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/LBF2.png" alt=""/>  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/LBF1.png" alt=""/>  </p>

<p>å¦‚å›¾ï¼ŒLBFä½¿ç”¨äº†Random Forestä½œé¢„æµ‹ï¼Œä½†LBFå¹¶æ²¡æœ‰ç›´æ¥é‡‡ç”¨éšæœºæ ‘ä¸­å¶å­èŠ‚ç‚¹å­˜å‚¨çš„å½¢å˜é‡ä½œä¸ºæœ€ç»ˆé¢„æµ‹ç»“æœï¼Œè€Œæ˜¯å°†è¾“å‡ºç»„æˆäºŒå€¼åŒ–ç‰¹å¾ï¼ˆLBFï¼‰ï¼Œå†åˆ©ç”¨è¿™ä¸ªLBFæ¥ä½œæœ€ç»ˆçš„å½¢å˜é¢„æµ‹  </p>

<p>æ€»çš„æ¥è¯´ï¼ŒLBFæ–¹æ³•ç¬¬ä¸€æ­¥ä¸ºæ¯ä¸ªlandmarkç‹¬ç«‹å»ºç«‹éšæœºæ£®æ—ï¼Œå½¢æˆå„è‡ªçš„Local Binary Featureï¼›ç„¶åè¿æ¥æ‰€æœ‰çš„LBFä½œå…¨å±€çº¿æ€§å›å½’ï¼ˆè¿™æ ·å¯ä»¥æœ‰æ•ˆåˆ©ç”¨å…³é”®ç‚¹é—´çš„çº¦æŸä¿¡æ¯ï¼‰å¾—åˆ°æœ€ç»ˆå½¢å˜é‡ã€‚å…¶ä¸­ç¬¬ä¸€æ­¥åŸºäºrandom forestå­¦ä¹ å¾—åˆ°Feature Mappingéœ€è¦ä½¿ç”¨åˆ°shape indexed featureï¼Œä¹Ÿå› ä¸ºLBFéå¸¸ç¨€ç–ï¼Œæ‰€ä»¥è®¡ç®—é€Ÿåº¦å¾ˆå¿«  </p>

<p>1.7 Supervised Descent Method  </p>

<p>SDMå°†Face Alignmentçœ‹ä½œéçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜ã€‚é€šå¸¸æ±‚è§£éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜å¯ä»¥é€šè¿‡äºŒé˜¶çš„ç‰›é¡¿æ³•è§£å†³ï¼Œç„¶è€Œåœ¨computer visionä»»åŠ¡ä¸­ï¼ŒæŸäº›å‡½æ•°ä¸ä¸€å®šå¯å¾®ï¼Œè€Œä¸”HessiançŸ©é˜µä½ç»´æ•°å¾ˆå¤§ä¸”ä¸ä¸€å®šæ­£å®šï¼Œæ‰€ä»¥è®ºæ–‡æå‡ºäº†SDMç®—æ³•æ¥æœ€å°åŒ–éçº¿æ€§æœ€å°äºŒä¹˜å‡½æ•°ï¼Œå³ä»¥ç›‘ç£å­¦ä¹ æ–¹å¼æ±‚è§£æ¢¯åº¦æ–¹å‘  </p>

<p>åœ¨è®­ç»ƒé˜¶æ®µï¼ŒSDMå­¦ä¹ æ¯ä¸ªç‰¹å¾ç‚¹çš„éçº¿æ€§æœ€å°äºŒä¹˜å‡½æ•°çš„æ¢¯åº¦æ–¹å‘ï¼Œç»„æˆæ¢¯åº¦åºåˆ—ã€‚ä¹‹åæµ‹è¯•é˜¶æ®µï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å­¦ä¹ å¥½çš„æ¢¯åº¦æ–¹å‘æ¥æœ€å°åŒ–éçº¿æ€§æœ€å°äºŒä¹˜å‡½æ•°ï¼Œä»è€Œé¿å…ç›´æ¥è®¡ç®—Jacobianæˆ–HessiançŸ©é˜µ  </p>

<p>é€šè¿‡è®ºæ–‡å¯ä»¥å‘ç°ï¼Œå› æ­¤éœ€è¦å­¦ä¹ ä¸€ç»„æ¢¯åº¦åºåˆ—ï¼Œè¯¥æ–¹æ³•å±äºçº§è”å›å½’æ¨¡å‹  </p>

<p>1.8 Face Alignment with an Ensemble of Regression Treesï¼ˆCVPR 14ï¼‰  </p>

<p>è®ºæ–‡åŸºäºé›†æˆå›å½’æ ‘å­¦ä¹ ä»input imageåˆ°landmarksçš„æ˜ å°„ï¼›è€Œä¸”è®ºæ–‡ä¸ºimageä¸­æ¯ä¸ªlandmarkå¼•å…¥æƒé‡Wå¯ä»¥è§£å†³è®­ç»ƒæ•°æ®æ ‡è®°ç¼ºå¤±çš„é—®é¢˜  </p>

<h4>2.éçº¿æ€§Regressorï¼šåˆ©ç”¨CNNè¿›è¡Œéçº¿æ€§å»ºæ¨¡ï¼ˆçº§è”å·ç§¯ç¥ç»ç½‘ç»œï¼‰</h4>

<p>2.1 CUHKçš„DCNNï¼ˆCVPR 13ï¼‰æå‡ºäº†3å±‚æ¡†æ¶  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/DCNN.png" alt="DCNN"/>  </p>

<p>ç¬¬ä¸€å±‚ä½¿ç”¨æ•´ä¸ªface imageä½œä¸ºinput regionï¼ˆæ‰€ä»¥ç‰¹å¾æ˜¯global high-level featureï¼‰ï¼Œå¾—åˆ°äº†initial predicitonsï¼Œæ‰€ä»¥è¯¥å±‚ä¸ºinitialization stageã€‚è€Œä¸”è¯¥å±‚åŒæ—¶è¿›è¡Œä¸åŒkey pointsçš„é¢„æµ‹ï¼Œæ‰€ä»¥èƒ½æœ‰æ•ˆåˆ©ç”¨geometric constraints  </p>

<p>ä¹‹åçš„äºŒä¸‰å±‚å¯¹ç¬¬ä¸€å±‚çš„ç»“æœè¿›è¡Œrefineï¼Œæ¯å±‚çš„cnnä»¥å½“å‰é¢„æµ‹ç‚¹ä¸ºä¸­å¿ƒï¼Œæå–local featureï¼Œé¢„æµ‹å‡ºå½“å‰facial pointså’Œground truthä¹‹é—´çš„åå·®  </p>

<p>å¯ä»¥çœ‹å‡ºDCNNé‡‡ç”¨coarse-to-fineçš„æ­¥éª¤ï¼Œä¸€æ­¥ä¸€æ­¥é€¼è¿‘ground truthï¼Œå› æ­¤ä¹Ÿå±äºcascadedï¼ˆçº§è”ï¼‰æ¨¡å‹  </p>

<p>2.2 CFANï¼ˆECCV 14ï¼‰  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/CFAN.png" alt=""/>  </p>

<p>ä¸DCNNç±»ä¼¼ï¼Œä¹Ÿæ˜¯coarse-to-fineçš„çº§è”æ¨¡å‹ï¼Œç¬¬ä¸€ä¸ªCNNé¢„æµ‹å‡ºåˆå§‹å€¼ï¼Œåé¢çš„CNNç”¨äºrefineä»è€Œé€¼è¿‘çœŸå®å€¼ã€‚DCNNäºŒä¸‰å±‚æ˜¯å¯¹ç¬¬ä¸€å±‚åˆå§‹ç»“æœçš„refineï¼Œä½¿ç”¨æ²¡æœ‰shape constraintçš„local featuresï¼Œå› æ­¤å®¹æ˜“å¾—åˆ°å±€éƒ¨æœ€ä¼˜å€¼ï¼Œå¯¹occlusionç­‰å½±å“å› ç´ çš„é²æ£’æ€§ä¸ç†æƒ³ã€‚CFANè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨åŒæ ·çš„ç¬¬ä¸€å±‚å¤„ç†ä¹‹åï¼Œä¹‹åçš„æ¯å±‚ä½¿ç”¨pointä¹‹é—´çš„çº¦æŸä¿¡æ¯ï¼ˆconstraintï¼‰ï¼Œå› æ­¤CFANå¯¹ç¬¬ä¸€æ­¥initå€¼çš„æ•æ„Ÿåº¦è¦æ¯”DCNNä½ã€‚å¦å¤–ï¼ŒCFANçš„æ¯å±‚çš„input imageçš„åˆ†è¾¨ç‡é€æ¸æé«˜ï¼Œç¬¬ä¸€æ­¥ç”¨äºå¿«é€Ÿçš„é¢„æµ‹åˆå§‹å€¼ï¼Œä½åˆ†è¾¨ç‡çš„å›¾ç‰‡å¯¹åº”äºlarge search stepï¼Œåé¢ç´§è·Ÿçš„refineç”¨ä½œå±€éƒ¨è°ƒæ•´ï¼Œåˆ™é€‰æ‹©ä½¿ç”¨é«˜åˆ†è¾¨ç‡çš„imageä½œä¸ºinput  </p>

<p>2.3 TDAï¼ˆACCV 14ï¼‰  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/TDA.png" alt=""/>  </p>

<p>TDAä¸DCNNã€CFANå¤§ä½“ç±»ä¼¼ï¼Œå…¶ä¸åŒä¹‹å¤„æ˜¯å…ˆæ ¹æ®Face Imageçš„Topicè¿›è¡Œåˆ†ç±»ï¼Œç„¶åä½¿ç”¨æ¯ä¸ªåˆ†ç±»ä¸‹ç‹¬ç«‹ç‰¹æœ‰çš„CNNç½‘ç»œè¿›è¡Œå¤„ç†  </p>

<p>è¿™é‡Œçš„Topicåˆ†ç±»æ˜¯æŒ‡é€šè¿‡k-means clusteringå¯¹äººè„¸å›¾ç‰‡è¿›è¡Œåˆ†ç±»ï¼Œæ¥å†³å®šäººè„¸å›¾ç‰‡å±äº5ä¸­Topicä¸­çš„å“ªä¸€ç±»ï¼Œä»¥å†³å®šä¹‹åä½¿ç”¨æŸå…·ä½“åˆ†ç±»ä¸‹çš„CNNç½‘ç»œã€‚å’Œçº§è”å›å½’æ¨¡å‹ä¸­çš„Conditional Regression Forestsï¼ˆåˆ©ç”¨face imageçš„head poseå¯¹faceè¿›è¡Œåˆ†ç±»ï¼‰æƒ³æ³•ç±»ä¼¼  </p>

<p><img src="http://7xl2fd.com1.z0.glb.clouddn.com/TDA-Topic-Aware.png" alt=""/>  </p>

<p>å¯ä»¥çœ‹å‡ºä¸Šé¢ä¸‰ç§çº§è”æ·±åº¦æ¨¡å‹éƒ½å°†Image To Shapeçš„mappingåˆ†è§£åˆ°çº§è”æ¡†æ¶çš„å„ä¸ªstageåˆ†åˆ«è¿›è¡Œè®­ç»ƒæˆ–å¤„ç†ï¼Œè€Œä¸”åŸºäºCNNå¯¹éçº¿æ€§æ˜ å°„è¿›è¡Œå»ºæ¨¡ï¼Œä¹Ÿå…äºç‰¹å¾çš„æ‰‹åŠ¨æå–  </p>

<h3>References</h3>

<ul>
<li><a href="http://www.cnblogs.com/gavin-vision/p/4829016.html" target="_blank">Cascade Pose Regression</a><br/></li>
<li><a href="http://blog.csdn.net/santo_wong_94/article/details/49330295" target="_blank">é˜…è¯»Face Alignment by Explicit Shape Regression</a><br/></li>
<li><a href="http://blog.luoyetx.com/2015/08/face-alignment-at-3000fps/" target="_blank">Face Alignment at 3000 FPS via Regressing Local Binary Features</a><br/></li>
<li><a href="http://chuansong.me/n/290740451748" target="_blank">æ·±åº¦å¤§è®²å ‚ï¼šé¢éƒ¨ç‰¹å¾ç‚¹å®šä½æ¦‚è¿°åŠæœ€è¿‘ç ”ç©¶è¿›å±•</a><br/></li>
</ul>

<p>å†æ—¶1ä¸ªæœˆå¤šä¸€ç‚¹çš„æ—¶é—´ï¼Œæ€»å…±è¯»äº†çº¦15ç¯‡paperã€‚å¤§å¤šæ•°paperéƒ½åœ¨8æœˆåˆå°±å®Œæˆäº†é˜…è¯»ï¼Œæ‹–åˆ°ç°åœ¨æ‰æ•´ç†ä¹Ÿæ˜¯å› ä¸ºè‡ªå·±æ‡’æƒ°ã€‚ä½œä¸ºCVå’ŒMLæ–°æ‰‹ï¼Œä»¥åŠé˜…è¯»ç›¸éš”æ—¶é—´è¾ƒé•¿ï¼Œæ–‡ç« ä¸å…ä¼šæœ‰è®¸å¤šç†è§£ä¸Šçš„é”™è¯¯ğŸ¤–</p>

            ]]>
        </content>
    </entry>
    
    <entry>
        <title><![CDATA[2016æš‘æœŸæ€»ç»“]]></title>
        <author><name>SuKai</name><uri>http://sukai.me/</uri></author>
        <link href="http://sukai.me/2016-summer/"/>
        <updated>2016-07-30T12:00:00Z</updated>
        <published>2016-07-30T12:00:00Z</published>
        <id>http://sukai.me/2016-summer/</id>
        <content type="html">
            <![CDATA[
             <h3>7æœˆ</h3>

<p><strong>å·¥ä½œ</strong>  </p>

<ul>
<li>7æœˆçœ‹äº†10 ~ 11ç¯‡è®ºæ–‡ï¼ˆFace Alignmentï¼‰ï¼Œè¿™å æ®äº†å·¥ä½œçš„å¤§éƒ¨åˆ†æ—¶é—´ã€‚ç›®å‰ä»å®è§‚ä¸Šäº†è§£äº†ç›¸å…³ç®—æ³•çš„ç ”ç©¶â€œè½¨è¿¹â€åŠåˆ†ç±»ã€‚ä½†å¯¹äºæŸäº›è®ºæ–‡ï¼Œé¡ºç€ä½œè€…çš„æ–‡å­—æ— æ³•ç†è§£ç›¸å…³ç®—æ³•çš„ç»†èŠ‚ï¼Œå¤§æ¦‚æ˜¯è‡ªå·±åŸºç¡€çŸ¥è¯†å¤ªè–„å¼±äº†ï¼Œæ‰£å‡ºç»†èŠ‚çš„éƒ¨åˆ†å°±ä¼šäº‘é‡Œé›¾é‡Œã€‚å¹¶æ²¡æœ‰æœ¬è´¨æ€§çªç ´ï¼Œç¦»è‡ªå·±æå‡ºæŸä¸ªideaå¹¶ä½œå‡ºå®éªŒè¿˜å¾ˆè¿œå¾ˆè¿œï¼Œä¹Ÿä¸ºè‡ªå·±æ¯”è¾ƒæ‹…å¿ƒ<br/></li>
<li>ç»„ä¼šï¼Œ7æœˆå¼€äº†ä¸¤æ¬¡çš„ç»„ä¼šã€‚ç¬¬ä¸€æ¬¡å¸ˆå…„æ•™äº†MatConvNetçš„ä½¿ç”¨ï¼Œè¿™æ˜¯å¸ˆå…„ä»¬å»å¹´å‚åŠ CVPR Face Age Estimationæ¯”èµ›çš„ä»£ç ï¼Œå¬è¯´å½“æ—¶æ‹¿äº†ä¸é”™çš„åæ¬¡ï¼Œè¿˜å› æ­¤å‡ºå›½å‚åŠ äº†CVPR16ï¼ˆğŸ‘ï¼‰ã€‚ä¸è¿‡æƒ­æ„§ï¼Œæœ¬äººç”±äºæ²¡æœ‰å®è·µåé¦ˆï¼ŒåŠä¸ªå¤šæœˆä¸‹æ¥åŸºæœ¬å¿˜äº†æ˜¯ä¸ªæ€ä¹ˆå›äº‹å„¿äº†=..=<br/></li>
<li>ç¬¬äºŒæ¬¡ï¼Œå¸ˆå…„ä»‹ç»äº†æ¯”èµ›ä¸­Face Imageçš„é¢„å¤„ç†è¿‡ç¨‹ï¼Œä½¿ç”¨çš„æ˜¯CUHKçš„<a href="http://mmlab.ie.cuhk.edu.hk/archive/CNN_FacePoint.htm" target="_blank">Five Facial Point Detection</a>ã€‚è¿™å’Œæˆ‘çš„å…³ç³»éå¸¸å¤§ï¼Œå› ä¸ºä¸å‡ºæ„å¤–æˆ‘ç ”ä¸€è¿›å…¥å®éªŒå®¤åä¼šç ”ç©¶Face Alignment<br/></li>
<li>å‡ å¤©ä¹‹åçš„æŸæ¬¡å®éªŒï¼Œæˆ‘é‡‡ç”¨è¯¥æ–¹æ³•å¯¹å®éªŒæ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œå½“åˆè§‰å¾—æ‰‹ä¸Šæœ‰äº†ä¸€äº›æºä»£ç ï¼Œåº”è¯¥æ²¡å•¥éš¾åº¦ï¼Œä½†ç”±äºå¼€æºä»£ç è½¯ä»¶çš„ä¸€äº›å‘ï¼Œè¿˜æœ‰å¯¹Matlabçš„ä¸ç†Ÿæ‚‰ï¼Œéœ€è¦ç”¨Matlabå†™ä¸€ä¸ªè„šæœ¬ï¼Œç„¶åå­å“§å­å“§è·‘äº†20hå®éªŒï¼ŒèŠ±äº†ä¸‰å¤©æ‰å®Œå…¨åšå®Œé¢„å¤„ç†å®éªŒã€‚å®éªŒè¿‡ç¨‹ä¸­è§‰å¾—Matlabè¿™é—¨ç¼–ç¨‹è¯­è¨€å¤ªé‡äº†ï¼Œå¤ªä¾èµ–ideï¼Œä¸è¿‡ä¹‹åè‚¯å®šéœ€è¦å­¦ä¹ å¹¶ç†Ÿæ‚‰ä¸‹Matlabäº†ã€‚è¿˜æœ‰ä¸€ä¸ªéå¸¸ä¸é”™çš„è¿œç¨‹æ§åˆ¶è½¯ä»¶TeamViewrï¼Œæé«˜äº†æˆ‘çš„å·¥ä½œæ•ˆç‡<br/></li>
</ul>

<p><strong>è¯»ä¹¦</strong>  </p>

<ul>
<li>ã€Šç®—æ³• 4Thã€‹çš„1 ~ 4ç« ï¼Œå…¨ä¹¦å°±è¦çœ‹å®Œäº†ï¼Œè¿˜å‰©ä¸¤ç« ã€‚ä¹¦è™½ç„¶åšï¼Œä½†é™¤å»ç®—æ³•çš„æ•°å­¦è¯æ˜å¤–è‡³å°‘éƒ½ä¸éš¾å•ƒï¼Œè¯»èµ·æ¥è¿˜ç®—è½»æ¾<br/></li>
<li>ã€Šè‡ªæ§åŠ›ã€‹<br/></li>
</ul>

<p>è¿™ä¸ªæœˆçš„æ—¶é—´å¯èƒ½è¢«å·¥ä½œåˆ’å»äº†å¤§éƒ¨åˆ†ï¼Œè¯»ä¹¦æ—¶é—´æŠ•å…¥ä¸å¤šï¼Œå…¶å®è¯´åˆ°åº•è¿˜æ˜¯è‡ªå·±ä¸é‡è§†é˜…è¯»è¿™ä¸ªç¯èŠ‚ï¼ŒåŠ ä¸Šè‡ªå·±çš„æ‡’ç™Œ  </p>

<p><strong>å­¦ä¹ </strong>  </p>

<ul>
<li>é˜…è¯»äº›Deep Learningå’ŒConvolutional Nerual Networksç›¸å…³çš„Paperå’ŒTutorial<br/></li>
<li>åœ¨Lintcodeã€hihocoderä¸Šæ’¸äº†ä¸€äº›é¢˜<br/></li>
<li>ä¸ºäº†æ¯”è¾ƒCpythonå’ŒPyPyï¼Œå¯»æ‰¾ç­”æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ€çœäº‹æœ€é è°±çš„æ–¹å¼å°±æ˜¯Wikipediaå’ŒStackoverflow<br/></li>
</ul>

<p><strong>ç”Ÿæ´»</strong>  </p>

<p>åŸºæœ¬ç™½å¤©éƒ½æ˜¯ä¸€ä¸ªäººåœ¨å®¶ï¼Œä¹Ÿè¯•ç€ç»™ç”Ÿæ´»æ‰¾äº†ç‚¹ä¹è¶£ï¼š  </p>

<ul>
<li>æŒæ¡äº†å‡ é“å®¶å¸¸èœï¼šç•ªèŒ„è›‹æ±¤ã€çº¢çƒ§è‚‰ã€èšæ²¹ç”Ÿèœã€å¯ä¹é¸¡ç¿…ç­‰ï¼Œå¨è‰ºåªæ˜¯åœç•™åœ¨é æ²¹ç›é…±é†‹ç­‰ä½æ–™è¾…åŠ©çš„æ°´å¹³ä¸Š<br/></li>
<li>7æœˆä¸‹åŠæ—¬ï¼Œåˆå¼€å§‹ç©èµ·ä¸‰å›½æ€<br/></li>
<li>æ¯å‘¨ä¸¤æ¬¡ï¼Œæ¯æ¬¡30-60åˆ†é’Ÿçš„è¿åŠ¨<br/></li>
</ul>

<h3>8æœˆ</h3>

<p><strong>å·¥ä½œ</strong>  </p>

<ul>
<li>Google Face Imageçˆ¬è™«ã€‚æ²¡æœ‰å†™è¿™ä¸ªçˆ¬è™«å‰ç®—æ˜¯å°çœ‹è¿™ä¸ªProjectçš„éš¾åº¦äº†ï¼Œè¿™ä¸ªProjectæœ€å¤§çš„éš¾ç‚¹æ˜¯GFWã€‚Googleè¢«å¢™ï¼Œè¦æƒ³è®©JVMå¼ºåˆ¶èµ°sock5ï¼Œæˆ‘é‡‡ç”¨çš„æ–¹æ¡ˆæ˜¯Proxifierå’ŒShadowsocksçš„ç»“åˆï¼Œå½“ç„¶äº‹æƒ…è¿˜æ²¡é‚£ä¹ˆç®€å•ï¼ŒGFWå°†Google.comçš„DNSæ±¡æŸ“äº†ï¼Œæ‰€ä»¥ä½¿ç”¨Proxifieræ—¶å€™è¦é€‰æ‹©è®©Proxy Serverè‡ªä¸»DNSè§£æï¼Œè¿™è¾¹ä¹Ÿä¸å¾—ä¸ä½©æœGFWã€‚è¿˜æœ‰ä¸€ä¸ªå°éš¾ç‚¹æ˜¯Httpsï¼Œæˆ‘ä½¿ç”¨Javaçš„Httpclientï¼Œé»˜è®¤æ¨¡æ‹ŸHttpsï¼ˆHttpï¼‰è¯·æ±‚æ—¶ï¼ŒHttpclienté»˜è®¤è‡ªåŠ¨åŠ ä¸ŠSSLå±‚ï¼ŒèŠ‚çœäº†æˆ‘çš„ç¼–ç¨‹çš„æ—¶é—´ã€‚è‡³äºå¯»æ‰¾å›¾ç‰‡ä¸‹æ‹‰åˆ·æ–°çš„Ajax Urlï¼Œé€šè¿‡Chromeè°ƒè¯•çª—å£çš„Networkï¼ˆæœ¬æ¥è¿˜æƒ³ç”¨WireSharkï¼Œæ— å¥ˆä¸ä¼šç”¨ï¼Œä¹Ÿæ²¡é‚£ä¸ªå¿…è¦ï¼‰å°±å¯ä»¥æ‰¾åˆ°äº†ï¼Œè¿™ç‚¹ä¸éš¾ã€‚æœ€ç»ˆä»£ç æ‰˜ç®¡åœ¨Githubä¸Šï¼š<a href="https://github.com/su-kaiyao/googleFaceImageSpider" target="_blank">googleFaceImageSpider</a>ã€‚å½“ç„¶å•¦ï¼Œæˆ‘çš„çˆ¬è™«æ˜¯é€šç”¨çš„ï¼Œåªè¦æŒ‡å®šæœç´¢Imageçš„å…³é”®è¯å°±å¯ä»¥äº†ï¼Œè¿˜å¯ä»¥æŒ‡å®šçˆ¬å¤šå°‘å¼ ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šçº¿ç¨‹æ± å¤§å°å’Œçº¿ç¨‹æ•°é‡ï¼Œä»¥æé«˜é€Ÿåº¦<br/></li>
<li>å›é¡¾äº†ä¸Šä¸ªæœˆé˜…è¯»çš„11ç¯‡è®ºæ–‡<br/></li>
<li>é˜…è¯»3 ~ 4ç¯‡æ–°è®ºæ–‡ï¼ˆFace Alignmentï¼‰<br/></li>
<li>å†™äº†ä¸€ç¯‡<a href="http://sukai.me/face-alignment-summary/" target="_blank">Face Alignmentç»¼è¿°</a>ï¼Œç«Ÿç„¶å‡ºç°åœ¨äº†çˆ±å¯å¯è€å¸ˆçš„<a href="http://weibo.com/1402400261/E5bJ0AKtQ?refer_flag=1001030103_&type=comment#_rnd1472891861823" target="_blank">å¾®åš</a><br/></li>
</ul>

<p><strong>å­¦ä¹ </strong>  </p>

<ul>
<li>å‘ç°äº†ä¸€ç¯‡è®²è¿°ç”ŸåŠ¨çš„<a href="http://blog.jobbole.com/70549/" target="_blank">â€œ å‚…é‡Œå¶å˜æ¢ â€</a>æ–‡ç« <br/></li>
<li>è¯»äº†Alexnetçš„è®ºæ–‡ï¼Œå…¶ä¸­çš„trickæœ‰ï¼šTraining on multiple GPUs, Local Response Normalization, Overlapping Pooling, Dropout<br/></li>
<li>è¯»äº†æœ‰å…³CNNçš„æ–‡ç« ï¼Œéƒ½æ”¶è—åœ¨äº†æˆ‘Blogçš„Deep Learning Wikisä¸­<br/></li>
<li><a href="http://blog.csdn.net/zouxy09/article/details/24971995" title="L0 L1 L2" target="_blank">L0ã€L1ä¸L2èŒƒæ•°è§„åˆ™åŒ–</a>ï¼Œ<a href="http://blog.csdn.net/shiwei408/article/details/7602324" title="distance" target="_blank">æœºå™¨å­¦ä¹ ä¸­çš„å„ç§è·ç¦»</a><br/></li>
<li>ç®—æ³•Trickï¼šä½æ“ä½œå¾ˆå¼ºå¤§ï¼Œå¯ä»¥ç”¨ä½œæšä¸¾æ’åˆ—ç»„åˆï¼›Pythonä¸­çš„itertools.combinationsä¹Ÿå¯ä»¥å¿«é€Ÿç”Ÿæˆæ’åˆ—<br/></li>
<li>è™½ç„¶å¾ˆä¹…ä¹‹å‰å°±å¼€å§‹äº†è§£<a href="https://en.wikipedia.org/wiki/C10k_problem" title="L0 L1 L2" target="_blank">C10k Problem</a>ï¼Œå½“æ—¶ä½¿ç”¨è¿‡Javaçš„NIOã€Nettyã€‚æœ€è¿‘çœ‹äº†Node.jsç›¸å…³çš„æ–‡ç« ï¼Œå¯¹äºC10k Problemåˆæœ‰äº†äº›ç ”ç©¶å…´è¶£ã€‚å®è§‚ä¸Šçš„ç†è§£è¿˜æ˜¯å½“åˆçš„é‚£ä¸ªå°è±¡ï¼šä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯å¤šè¿›ç¨‹å¤šçº¿ç¨‹æ¨¡å‹ï¼Œå³One Connectionï¼ŒOne Threadï¼Œå¤§é‡ï¼ˆ10kï¼‰æ¡è¿›ç¨‹ï¼ˆæˆ–çº¿ç¨‹ï¼‰çš„åˆ›å»ºå’Œè°ƒåº¦ä¼šé€ æˆOSå¾ˆå¤§çš„èµ„æºæ¶ˆè€—ã€‚åæ¥æœ‰äº†IOå¤šè·¯å¤ç”¨æ¨¡å‹ï¼Œselectåˆ°pollå†åˆ°epollï¼Œå­•è‚²å‡ºå¾ˆå¤šæ°ä½œï¼ˆTornadoã€Node.jsï¼‰ç­‰ç­‰ã€‚å¦ä¸€ç§è§£å†³æ–¹æ¡ˆåˆ™æ˜¯åç¨‹ï¼Œå°†å†…æ ¸ä»ç¹é‡çš„è°ƒåº¦ä»»åŠ¡ä¸­è§£æ”¾å‡ºæ¥ï¼Œå…¸å‹çš„ä»£è¡¨æ˜¯Goè¯­è¨€ã€‚æš‚æ—¶äº†è§£çš„è¿˜ä¸å¤Ÿé€å½»ï¼Œä¹‹åæœ‰ç©ºå†è¿›ä¸€æ­¥ç ”ç©¶<br/></li>
</ul>

<p><strong>è¯»ä¹¦</strong>  </p>

<ul>
<li>ã€Šç®—æ³•4thã€‹è¯»å®Œäº†ã€‚åé¢ä¸¤ç« æ¯”å‰é¢å››ç« éš¾å•ƒï¼Œå°¤å…¶æ˜¯å­—ç¬¦ä¸²è¿™ç« ï¼Œå†…å®¹å¯¹æˆ‘æ¥è¯´éƒ½å¾ˆæ–°<br/></li>
<li>ã€Šå†™ä½œè¿™å›äº‹ï¼šåˆ›ä½œç”Ÿæ¶¯å›å¿†å½•ã€‹<br/></li>
<li>ã€Šæ—¶é—´ç®¡ç†ï¼šå¦‚ä½•å……åˆ†åˆ©ç”¨ä½ çš„24å°æ—¶ã€‹<br/></li>
<li>ã€Šå¨±ä¹è‡³æ­»ã€‹<br/></li>
<li>ã€Šä¹–ï¼Œæ‘¸æ‘¸å¤´ã€‹<br/></li>
<li>ã€Šæ²¥å·å¾€äº‹ã€‹<br/></li>
</ul>

<p>è¿™ä¸ªæœˆè¯»çš„å¦å¤–ä¸‰æœ¬ä¹¦éƒ½ä¸èƒƒå£ï¼Œè®°ä½çš„å¥å­å’Œè§‚ç‚¹ä¹Ÿå¾ˆå°‘ï¼Œæœ‰çš„å¹¶ä¸å€¼å¾—è¯»  </p>

<p><strong>ç”Ÿæ´»</strong>  </p>

<p>è¿™ä¸ªæœˆæ€»å¾—æ¥è¯´ï¼Œè¿‡å¾—å¾ˆæ¾  </p>

<ul>
<li>å°†Blogçš„Analysisåˆ‡æ¢åˆ°äº†Google Analysis<br/></li>
<li>é‡æ–°è£…ä¸ŠLOLï¼Œç©äº†3 ~ 4å¤©åˆå°†å…¶å¸è½½<br/></li>
<li>è¿™ä¸ªæœˆçœ‹äº†ä¸å°‘ç”µå½±ğŸ˜œï¼šã€Šé©¯é¾™é«˜æ‰‹â… &amp;â…¡ã€‹ã€ã€Šå¤æ´›ç‰¹çƒ¦æ¼ã€‹ã€ã€Šç«å½±ï¼šåšäººè½¬ã€‹ã€ã€Šæˆ‘æ˜¯ä¼ å¥‡ã€‹ã€ã€Šä½¿å¾’è¡Œè€…ã€‹ã€ã€Šå¯’æˆ˜â…¡ã€‹ã€ã€Šä»–æ˜¯é¾™ã€‹ã€ã€ŠXæˆ˜è­¦ï¼šå¤©å¯ã€‹ã€‚æœ€å–œæ¬¢çš„æ˜¯ã€Šé©¯é¾™é«˜æ‰‹â… &amp;â…¡ã€‹ï¼Œåœ¨è±†ç“£é‡Œæ˜¯Top 250çš„å½±ç‰‡<br/></li>
<li>ä¸€é¦–â€œæ­Œâ€çœŸçš„èƒ½æ¿€æ´»å¤´è„‘ä¸­çš„å›å¿†ç¥ç»ï¼Œå¤œæ™šåœ¨å·¥ä½œå°æ”¾ç€å¤§å››åœ¨å®¿èˆç»å¸¸æ”¾çš„æ­Œæ›²ï¼Œèƒ½å›å¿†å¾ˆå¤šå¤§å››å®¿èˆçš„ç”Ÿæ´»åœºæ™¯ï¼Œèƒ½é—»åˆ°å®¿èˆç†Ÿæ‚‰çš„å‘³é“<br/></li>
</ul>

<h3>åé¦ˆ</h3>

<p><strong>ä¿¡å™ªæ¯”</strong>  </p>

<blockquote>
<p>â€œ<br/>
    ä¿¡å™ªæ¯”ï¼Œç”¨äºæ¯”è¾ƒæ‰€éœ€ä¿¡å·çš„ç¨‹åº¦ä¸èƒŒæ™¯å™ªå£°çš„ç¨‹åº¦.  â€”â€” <a href="https://zh.wikipedia.org/wiki/%E4%BF%A1%E5%99%AA%E6%AF%94" target="_blank">ä¿¡å™ªæ¯”</a><br/>
â€  </p>
</blockquote>

<p>åœ¨è¿™æˆ‘æ‰€è¯´çš„å¹¶ä¸æ˜¯ä¿¡å·ï¼Œè€Œæ˜¯ä¿¡æ¯æˆ–çŸ¥è¯†ã€‚å¦‚æœè¯´ä½ åœ¨ç½‘ç»œï¼ˆçŸ¥ä¹ã€æœå£³ã€å¾®åšï¼‰ä¸Šçœ‹å®ŒæŸç¯‡ï¼ˆæŠ€æœ¯ï¼‰æ–‡ç« ï¼Œæˆ–è€…ä½ è¯»å®ŒæŸç§ä¹¦ï¼Œç•™åœ¨ä½ è„‘å­é‡Œï¼Œä½ è‡ªå·±èƒ½ä¿¡æ¯å†ç»„ç»‡é™ˆè¿°å‡ºæ¥çš„ä¿¡æ¯é‡å çœ¼ç›æµè§ˆä¿¡æ¯é‡çš„å¤šå°‘å‘¢ï¼Ÿæ¯”ä¾‹å¾ˆä½çš„åŸå› å¾ˆå¤šå¾ˆå¤šï¼š  </p>

<ul>
<li>ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œç½‘ç»œä¸Šçš„æ–‡ç« å¤§å¤šæ˜¯è§‚ç‚¹çš„é‡å¤ç´¯è¿°æˆ–å†é™ˆè¿°ç”šè‡³æ˜¯æ”¹å˜è¯­å¥çš„æŠ„è¢­ï¼Œä¸å°å¿ƒé€‰æ‹©äº†ä¸æ­£ç¡®çš„æ–‡ç« é˜…è¯»è‡ªç„¶è€Œç„¶æ²¡æœ‰å¤šå¤§ç›Šå¤„ã€‚åŒ…æ‹¬è¯»ä¹¦ï¼Œç°åœ¨å¤šçœ‹ä¹¦å•ï¼Œè±†ç“£ä¹¦å•ç•…é”€ä¹¦å°±å æ®åŠå£æ±Ÿå±±ï¼Œå…¶å®ç•…é”€ä¹¦å’Œç»å…¸ä¹¦ç›¸æ¯”å«é‡‘é‡è¿˜æ˜¯å¤§æ‰“æŠ˜æ‰£ã€‚å¦‚ä½•é€‰æ‹©ä¸€æœ¬â€œå¥½ä¹¦â€ï¼Œä¹Ÿç»éæ˜“äº‹ã€‚å¦‚æœæœºç¼˜å·§åˆï¼Œç¢°ä¸Šäº†å’Œè‡ªå·±ç›¸æŠ•çš„å¥½ä¹¦ï¼Œåˆ™èƒ½å½±å“ä½ å¾ˆé•¿ä¸€æ®µäººç”Ÿ<br/></li>
<li>ä¸æ‡‚å¾—æ€è€ƒï¼Œä¸æ‡‚å¾—è¿‡æ»¤ä¿¡æ¯å¹¶å†ç»„ç»‡ã€‚æˆä¸ºä¸€ä¸ªæœ‰â€œè§‚ç‚¹â€çš„äººï¼Œéœ€è¦ç»è¿‡å¾ˆé•¿çš„æµç¨‹ï¼šä¿¡æ¯è·å–ï¼Œè§‚å¯Ÿï¼Œå¸æ”¶ï¼Œæ„å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»å’Œä¸–ç•Œè§‚ï¼Œæœ€åè¿˜æœ‰ä¸€æ­¥éå¸¸éå¸¸é‡è¦å´å®¹æ˜“å¿½è§†çš„å®è·µä¸åé¦ˆã€‚è§‚ç‚¹éœ€è¦è®ºæ®æ”¯æ’‘ï¼Œæœ€å¼ºæœ‰åŠ›çš„è¯æ®è‚¯å®šå°±æ˜¯å®è·µäº†ï¼Œåœ¨å®è·µä¸­æ€è€ƒï¼Œå‘ç°é—®é¢˜ï¼Œæ‰èƒ½è·å¾—æœ€åˆé€‚è‡ªå·±çš„ä¿¡æ¯<br/></li>
<li>ç¢ç‰‡åŒ–é˜…è¯»ä¸­çš„å±å®³ã€‚å¾®åšä¸Šå…³æ³¨å‡ ä¸ªæŠ€æœ¯å¤§Vï¼Œå¾®ä¿¡ä¸Šå…³æ³¨å‡ ä¸ªå…¬ä¼—å·ï¼Œå°±è®¤ä¸ºè‡ªå·±åœ¨å­¦ä¹ ï¼Œå…¶å®è‡ªå·±æ˜æ˜æ˜¯â€œè¢«â€å­¦ä¹ ã€‚æ”¶è—è¶Šæ¥è¶Šå¤šï¼Œå…³æ³¨è¶Šæ¥è¶Šå¤šï¼Œæ¶ˆåŒ–è¶Šæ¥è¶Šå°‘ã€‚å’Œé˜…è¯»ä¹¦æœ¬ç›¸æ¯”ï¼Œç¢ç‰‡åŒ–çš„é˜…è¯»çš„ä¼˜åŠ¿åœ¨äºå®ƒçš„ä¾¿æ·ï¼Œå®ƒçš„æ—¶é—´æˆæœ¬ä½ï¼Œè€Œä¸”å†…å®¹éƒ½ä¸æ—¶ä¿±è¿›ï¼Œä½†æ˜¯å®ƒçš„åŠ£åŠ¿ä¹Ÿç›¸å½“æ˜æ˜¾ï¼Œä¿¡æ¯è½¬åŒ–ç‡ä½ï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´ä¸å»ç»„ç»‡å›é¡¾å†å¸æ”¶ï¼Œå°†é—å¿˜åœ°å¾ˆå¿«ï¼Œæœ€ç»ˆè½¬å˜ä¸ºä¿¡æ¯å™ªéŸ³<br/></li>
<li>çæ”¶è—ï¼Œä¹±æ”¶è—ï¼Œä¿¡æ¯æ•´ç†ä¸åˆç†ã€‚ç¢ç‰‡åŒ–çš„æ–‡ç« æ•´ç†èµ·æ¥å®å±ä¸æ˜“ï¼Œæ¯”å¦‚ä½ æµè§ˆå™¨çš„Bookmarksï¼Œä½ å¾®åšçš„æ”¶è—åˆ—è¡¨ï¼ŒçŸ¥ä¹çš„æ”¶è—ï¼Œæœ‰å¤šå°‘ä½ ä¼šå›å¤´å»å†å¸æ”¶çš„ï¼Ÿä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› åœ¨äºæ‰€æœ‰æ–‡ç« æ•´ç†ä¸€é”…ç«¯ï¼Œä»¿ä½›ä¸€ä¸ªå¤§æ± å­ï¼Œé‡Œé¢å¾ˆä¹±ï¼Œè‡ªç„¶å°±ä¸æ„¿æ„ä¸»åŠ¨å»æ¥è§¦äº†ã€‚åœ¨æ•´ç†æ”¶è—æ–‡ç« æ—¶æœ‰æ—¶éœ€è¦åˆ»æ„å°†å®ƒä»¬è”ç³»æˆä¸€å—ï¼Œä¸€ä¸ªæ•´ä½“ï¼Œè®©å®ƒä»¬å˜å¾—ä¸å†ç¢ç‰‡åŒ–ï¼Œä»¿ä½›ä¸€ç»„ç»„é“¾è¡¨ï¼ˆæˆ–è€…è¯´æ˜¯å“ˆå¸Œè¡¨ï¼‰ï¼Œå› ä¸ºå­¦ä¹ æœ€æ€•çš„å°±æ˜¯ç¼ºä¹æ•´ä½“æ„è¯†ï¼Œè¿™æ ·ä¸ä»…æ–¹ä¾¿ä¸‹æ¬¡å›å½’ï¼Œè¿˜å¯¹è‡ªå·±çŸ¥è¯†å›¾è°±çš„æ„å»ºä¹Ÿæœ‰å¾ˆå¤§å¸®åŠ©<br/></li>
</ul>

<p>å…¶å®ä¸Šé¢åˆ†æçš„éƒ½æ˜¯æˆ‘å¹³æ—¶ä¸æ­£ç¡®çš„è¡Œä¸ºæ“ä½œï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è¿‘å‡ ä¸ªæœˆæ¥çš„ä½“ä¼šï¼Œæˆ‘ä¹Ÿæ·±æ„Ÿæƒ­æ„§å’Œä¸å®‰  </p>

<h4>ç°å®å’Œç†æƒ³åˆ°åº•æœ‰å¤šè¿œï¼Ÿ</h4>

<p>ä¹‹å‰è‡ªå·±è™½ä¸€ç›´å¯¹ç”Ÿæ´»å’Œå­¦ä¹ ä¿æŒç€â€œçƒ­åº¦â€ä¸â€œæ¿€æƒ…â€ï¼Œå…¶å®ä¸è¿‡æ˜¯åœ¨æœªçœ‹æ¸…ç°å®å’Œçœ‹è½»ç°å®æƒ…å†µä¸‹çš„ä¸‰åˆ†é’Ÿçƒ­åº¦æˆ–äº”åˆ†é’Ÿçƒ­åº¦ã€‚ä¸ºä½•è¿™ä¹ˆè¯´ï¼Ÿå› ä¸ºè¿˜æ˜¯ç¼ºå°‘å®è·µå’Œåé¦ˆ  </p>

<p>â€œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œâ€ã€‚å¯¹ç€ä¹¦æœ¬ï¼Œå¯¹ç€Tutorialçœ‹ï¼Œæ°¸è¿œåªæ•²ä¸€äº›Demoç¨‹åºï¼Œå°±æ•¢å®£ç§°è‡ªå·±æ‡‚äº†ï¼Œå·²ç»çŸ¥æ™“äº†è¿™é—¨æŠ€æœ¯å’Œè¯­è¨€ï¼Œä»¿ä½›èµ°è·¯éƒ½è½»å¿«äº†è®¸å¤šã€‚ç°åœ¨è§‰å¾—è¿™ç§æƒ³æ³•ä»¤äººå’‹èˆŒã€‚ä¸€é¡¹å·¥ç¨‹çš„ä»£ç ç”±40%çš„æ­£å¸¸é€»è¾‘ç¨‹åºï¼Œè¿˜è¦å¤–åŠ 60%çš„å¼‚å¸¸å¤„ç†å‘¢ï¼å¾€å¾€è¿™äº›å¼‚å¸¸å¤„ç†æ‰æ˜¯æœ€è†ˆåº”ä½ çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æœ€èƒ½ä»¤ä½ æ€ç»´æ´»è·ƒï¼Œå¾—åˆ°é”»ç‚¼çš„ä¸‹é…’èœ  </p>

<p>æ‰€ä»¥ï¼Œå­¦ä¼šæ”¾ä½å§¿æ€ï¼Œå®‰å®‰å¿ƒå¿ƒåšä¸€ååˆæ ¼çš„ç¨‹åºç‹—ï¼Œè¿‡äº”å…³æ–©å…­å°†ï¼Œåˆ»æ„å¹¶åŠªåŠ›ç€å……å®è‡ªå·±çš„ç”Ÿæ´»ï¼Œå“ªæ€•é…¸ç”œè‹¦è¾£ï¼Œä¹Ÿç»éæ˜“äº‹</p>

            ]]>
        </content>
    </entry>
    
    <entry>
        <title><![CDATA[è¯»:ä¸­ä½æ•°å’Œé¡ºåºç»Ÿè®¡é‡]]></title>
        <author><name>SuKai</name><uri>http://sukai.me/</uri></author>
        <link href="http://sukai.me/algorithms-order-statistic/"/>
        <updated>2016-06-30T18:00:00Z</updated>
        <published>2016-06-30T18:00:00Z</published>
        <id>http://sukai.me/algorithms-order-statistic/</id>
        <content type="html">
            <![CDATA[
             <p>ä»Šå¤©è¯»æŸå…¬ä¼—å·æ¨é€çš„ä¸€ç¯‡æ–‡ç« ï¼Œé¢˜ç›®æ˜¯ï¼šæ±‚æ— åºæ•°ç»„ä¸­çš„ä¸­ä½æ•°.æœ€ç®€å•çš„æ–¹æ³•è«éå°±æ˜¯æ’åºï¼Œç„¶åç›´æ¥printä¸­ä½æ•°.  </p>

<p>ã€Šç®—æ³•å¯¼è®ºã€‹ç¬¬9ç«  ä¸­ä½æ•°å’Œé¡ºåºç»Ÿè®¡é‡ æ­£å¥½è®²åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åœ¨ä¸æ’åºçš„æƒ…å†µä¸‹æ±‚è§£ï¼Œå¹¶ä¸”æ—¶é—´å¤æ‚åº¦æ¥è¿‘O(n)  </p>

<h4>æ¦‚å¿µ</h4>

<p>æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼ã€æœ€å°å€¼å’Œä¸­ä½æ•°é—®é¢˜éƒ½å¯ä»¥ä¸€èˆ¬åŒ–ä¸º<strong>é€‰æ‹©é—®é¢˜</strong>ï¼šä»ä¸€ä¸ªç”±nä¸ªäº’å¼‚çš„å…ƒç´ æ„æˆçš„é›†åˆä¸­é€‰æ‹©ç¬¬iä¸ªé¡ºåºç»Ÿè®¡é‡é—®é¢˜  </p>

<p>ç¬¬iä¸ªé¡ºåºç»Ÿè®¡é‡æŒ‡é›†åˆä¸­ç¬¬iå°çš„å…ƒç´ ï¼Œæ‰€ä»¥ï¼š  </p>

<ul>
<li>æœ€å°å€¼æ˜¯ç¬¬1ä¸ªé¡ºåºç»Ÿè®¡é‡ï¼ˆi=1ï¼‰<br/></li>
<li>æœ€å¤§å€¼æ˜¯ç¬¬nä¸ªé¡ºåºç»Ÿè®¡é‡ï¼ˆi=nï¼‰<br/></li>
<li>å½“nä¸ºå¥‡æ•°æ—¶ï¼Œä¸­ä½æ•°çš„i=(n+1)/2;å½“nä¸ºå¶æ•°æ—¶ï¼Œä¸­ä½æ•°çš„i=n/2å’Œn/2+1<br/></li>
</ul>

<h4>æœŸæœ›ä¸ºçº¿æ€§æ—¶é—´çš„é€‰æ‹©ç®—æ³•</h4>

<p>è¯¥ç®—æ³•ä»¥å¿«é€Ÿæ’åºç®—æ³•ä¸ºåŸå‹ï¼Œé‡‡ç”¨åˆ†æ²»æ³•ï¼ŒåŸºæœ¬æ€è·¯æ˜¯ï¼šä»»æ„é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºkeyï¼ŒåŸºäºkeyå°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†.å·¦éƒ¨åˆ†å…ƒç´ å‡å°äºç­‰äºkeyï¼Œå³éƒ¨åˆ†å…ƒç´ å‡å¤§äºkey.å¦‚æœkeyçš„ä¸‹æ ‡idxæ­£å¥½ç­‰äº(n+1)/2ï¼Œé‚£ä¹ˆkeyå³ä¸ºä¸­ä½æ•°.å¦åˆ™è‹¥idx&lt;(n+1)/2ï¼Œé‚£ä¹ˆé€’å½’å»å¤„ç†å³éƒ¨åˆ†ï¼Œåä¹‹å¤„ç†å·¦éƒ¨åˆ†  </p>
<div class="highlight"><pre><span class="c">#!/usr/bin/env python  </span>
<span class="c"># -*- coding: utf-8 -*-  </span>

<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>  

<span class="k">def</span> <span class="nf">randomized_partition</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>  
    <span class="n">rand_n</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>  

    <span class="n">key</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">rand_n</span><span class="p">]</span>  
    <span class="n">A</span><span class="p">[</span><span class="n">rand_n</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">high</span><span class="p">]</span>  
    <span class="n">A</span><span class="p">[</span><span class="n">high</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>  

    <span class="n">i</span> <span class="o">=</span> <span class="n">low</span> <span class="o">-</span> <span class="mi">1</span>  
    <span class="n">j</span> <span class="o">=</span> <span class="n">low</span>  
    <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span>  
    <span class="k">while</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">high</span><span class="p">:</span>  
        <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>  
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>  
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>  
            <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>  
            <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>  
        <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>  
    <span class="n">A</span><span class="p">[</span><span class="n">high</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>  
    <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>  
    <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>  

<span class="k">def</span> <span class="nf">randomized_select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>  
    <span class="k">if</span> <span class="n">low</span> <span class="o">==</span> <span class="n">high</span><span class="p">:</span>  
        <span class="k">return</span> <span class="n">A</span><span class="p">[</span><span class="n">low</span><span class="p">]</span>  
    <span class="n">q</span> <span class="o">=</span> <span class="n">randomized_partition</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>  
    <span class="n">k</span> <span class="o">=</span> <span class="n">q</span><span class="o">-</span><span class="n">low</span><span class="o">+</span><span class="mi">1</span>  
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>  
        <span class="k">return</span> <span class="n">A</span><span class="p">[</span><span class="n">q</span><span class="p">]</span>  
    <span class="k">elif</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">:</span>  
        <span class="k">return</span> <span class="n">randomized_select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">q</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>  
    <span class="k">else</span><span class="p">:</span>  
        <span class="k">return</span> <span class="n">randomized_select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">q</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="n">k</span><span class="p">)</span>  

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>  
    <span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>  
    <span class="c"># iå–4ï¼Œè¡¨ç¤ºæ±‚è§£Aä¸­çš„ä¸­ä½æ•°  </span>
    <span class="k">print</span> <span class="n">randomized_select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>

<p>ä¸åŒäºå¿«é€Ÿæ’åºä¼šé€’å½’å¤„ç†åˆ’åˆ†çš„ä¸¤è¾¹ï¼Œè€Œrandomized_selectåªå¤„ç†æ¢åˆ†çš„ä¸€è¾¹.ç»è¯æ˜randomized_selectçš„æœŸæœ›è¿è¡Œæ—¶é—´ä¸ºO(n)  </p>

<h4>æœ€åæƒ…å†µä¸ºçº¿æ€§æ—¶é—´çš„é€‰æ‹©ç®—æ³•</h4>

<p>å’Œrandomized_selectä¸€æ ·ï¼Œselectç®—æ³•ä¹Ÿæ˜¯é€šè¿‡é€’å½’åˆ’åˆ†æ¥å¯»æ‰¾æ‰€éœ€å…ƒç´ .ä½†æ˜¯è¯¥ç®—æ³•èƒ½ä¿è¯å¾—åˆ°å¯¹æ•°ç»„çš„ä¸€ä¸ªå¥½çš„åˆ’åˆ†.æ ¹æ®ã€Šç®—æ³•å¯¼è®ºã€‹ä¸­æè¿°ï¼Œselectç®—æ³•çš„æ­¥éª¤ä¸ºï¼š  </p>

<ul>
<li>1.å°†nä¸ªå…ƒç´ çš„è¾“å…¥æ•°ç»„åˆ’åˆ†ä¸º[n/5]ç»„ï¼Œæ¯ç»„5ä¸ªå…ƒç´ ï¼Œä¸”è‡³å¤šåªæœ‰ä¸€ç»„ç”±å‰©ä¸‹çš„n mod 5ä¸ªå…ƒç´ ç»„æˆ<br/></li>
<li>2.å¯»æ‰¾[n/5]ç»„ä¸­æ¯ä¸€ç»„çš„ä¸­ä½æ•°ï¼šé¦–å…ˆå¯¹æ¯ç»„å…ƒç´ è¿›è¡Œæ’å…¥æ’åºï¼Œç„¶åç¡®å®šæ¯ä¸€ç»„çš„æœ‰åºå…ƒç´ çš„ä¸­ä½æ•°<br/></li>
<li>3.å¯¹ç¬¬2æ­¥ä¸­æ‰¾å‡ºçš„[n/5]ä¸ªä¸­ä½æ•°ï¼Œé€’å½’è°ƒç”¨selectä»¥æ‰¾å‡ºå…¶ä¸­ä½æ•°xï¼ˆå¦‚æœæœ‰å¶æ•°ä¸ªä¸­ä½æ•°ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œå–è¾ƒå°é‚£ä¸ªä¸­ä½æ•°ï¼‰<br/></li>
<li>4.åˆ©ç”¨ä¿®æ”¹è¿‡çš„partitionï¼ŒæŒ‰ä¸­ä½æ•°çš„ä¸­ä½æ•°xå¯¹è¾“å…¥æ•°ç»„è¿›è¡Œåˆ’åˆ†ï¼Œç¡®å®šxåœ¨æ•°ç»„ä¸­çš„ä½ç½®k<br/></li>
<li>5.å¦‚æœi==kï¼Œè¿”å›x.å¦åˆ™ï¼Œi&lt;kï¼Œå¤„ç†ä½åŒº.åä¹‹åœ¨é«˜åŒºå¯»æ‰¾i-kå°çš„å…ƒç´ <br/></li>
</ul>
<div class="highlight"><pre><span class="c">#!/usr/bin/env python  </span>
<span class="c"># -*- coding: utf-8 -*-  </span>

<span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>  
    <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>  
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>  
        <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">key</span><span class="p">:</span>  
            <span class="n">idx</span> <span class="o">=</span> <span class="n">i</span>  
            <span class="k">break</span>  
    <span class="n">swap</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>  

    <span class="n">i</span> <span class="o">=</span> <span class="n">low</span> <span class="o">-</span> <span class="mi">1</span>  
    <span class="n">j</span> <span class="o">=</span> <span class="n">low</span>  
    <span class="k">while</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">high</span><span class="p">:</span>  
        <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">key</span><span class="p">:</span>  
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>  
            <span class="n">swap</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>  
        <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>  
    <span class="n">swap</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>  
    <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>  

<span class="k">def</span> <span class="nf">insert_sort</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>  
    <span class="n">i</span> <span class="o">=</span> <span class="n">low</span> <span class="o">+</span> <span class="mi">1</span>  
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">high</span><span class="p">:</span>  
        <span class="n">key</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>  
        <span class="n">k</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>  
        <span class="k">while</span> <span class="n">k</span> <span class="o">&gt;=</span> <span class="n">low</span> <span class="ow">and</span> <span class="n">A</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>  
            <span class="n">A</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>  
            <span class="n">k</span> <span class="o">-=</span> <span class="mi">1</span>  
        <span class="n">A</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>  
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>  

<span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>  
    <span class="n">tmp</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>  
    <span class="n">A</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">b</span><span class="p">]</span>  
    <span class="n">A</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>  

<span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>  
    <span class="k">if</span> <span class="n">high</span><span class="o">-</span><span class="n">low</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>  
        <span class="n">insert_sort</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>  
        <span class="k">return</span> <span class="n">A</span><span class="p">[</span><span class="n">low</span> <span class="o">+</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>  
    <span class="n">group</span> <span class="o">=</span> <span class="p">(</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">5</span>  
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">group</span><span class="p">):</span>  
        <span class="n">left</span> <span class="o">=</span> <span class="n">low</span> <span class="o">+</span> <span class="n">j</span><span class="o">*</span><span class="mi">5</span>  
        <span class="n">right</span> <span class="o">=</span> <span class="p">(</span><span class="n">low</span> <span class="o">+</span> <span class="n">j</span><span class="o">*</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">low</span> <span class="o">+</span> <span class="n">j</span><span class="o">*</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">high</span> <span class="k">else</span> <span class="n">high</span>  
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>  
        <span class="n">insert_sort</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>  
        <span class="n">swap</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="o">+</span><span class="n">j</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>  
    <span class="n">key</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">low</span><span class="o">+</span><span class="n">group</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">group</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>  
    <span class="n">key_idx</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>  
    <span class="n">k</span> <span class="o">=</span> <span class="n">key_idx</span> <span class="o">-</span> <span class="n">low</span> <span class="o">+</span> <span class="mi">1</span>  
    <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>  
        <span class="k">return</span> <span class="n">A</span><span class="p">[</span><span class="n">key_idx</span><span class="p">]</span>  
    <span class="k">elif</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="n">i</span><span class="p">:</span>  
        <span class="k">return</span> <span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">key_idx</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>  
    <span class="k">else</span><span class="p">:</span>  
        <span class="k">return</span> <span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">key_idx</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="n">k</span><span class="p">)</span>  

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>  
    <span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">32</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">58</span><span class="p">]</span>  
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>  
        <span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</pre></div>

<h4>è„‘æ´å¤§å¼€ï¼šåˆ©ç”¨æœ€å°å †</h4>

<p>ï¼ˆä¾æ®å¾…å­—é—ºä¸­å¾®ä¿¡å…¬ä¼—å·æ¨é€çš„æ–‡ç« ï¼‰  </p>

<p>é¦–å…ˆï¼Œå°†æ•°ç»„çš„å‰(n+1)/2ä¸ªå…ƒç´ å»ºç«‹ä¸€ä¸ªæœ€å°å †.ç„¶åå¯¹äºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå’Œå †é¡¶å…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœå°äºç­‰äºå°±ä¸¢å¼ƒä¹‹.æ¥ç€çœ‹ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœå¤§äºï¼Œåˆ™ç”¨è¯¥å…ƒç´ å–ä»£è¯¥é¡¶ï¼Œå†è°ƒæ•´å †.é‡å¤ç›´è‡³æ•°ç»„ä¸ºç©ºæ—¶ï¼Œå †é¡¶å…ƒç´ å³ä¸ºä¸­ä½æ•°  </p>
<div class="highlight"><pre><span class="c">#!/usr/bin/env python  </span>
<span class="c"># -*- coding: utf-8 -*-  </span>

<span class="kn">import</span> <span class="nn">heapq</span>  

<span class="k">def</span> <span class="nf">heap_select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lens</span><span class="p">):</span>  
    <span class="n">h</span> <span class="o">=</span> <span class="p">[]</span>  
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">((</span><span class="n">lens</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span>  
        <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>  
    <span class="n">top</span> <span class="o">=</span> <span class="mi">0</span>  
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">((</span><span class="n">lens</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">lens</span><span class="p">):</span>  
        <span class="n">top</span> <span class="o">=</span> <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>  
        <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">top</span><span class="p">:</span>  
            <span class="k">continue</span>  
        <span class="k">else</span><span class="p">:</span>  
            <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>  
    <span class="k">return</span> <span class="n">top</span>  

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>  
    <span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>  
    <span class="k">print</span> <span class="n">heap_select</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
</pre></div>

<hr/>

<p>å‚è€ƒï¼š  </p>

<ul>
<li>ã€Šç®—æ³•å¯¼è®ºã€‹Chapter 9<br/></li>
<li> å¾®ä¿¡å…¬ä¼—å·ï¼šå¾…å­—é—ºä¸­</li>
</ul>

            ]]>
        </content>
    </entry>
    
    <entry>
        <title><![CDATA[è¯»ã€Šä½ åªæ˜¯çœ‹èµ·æ¥å¾ˆåŠªåŠ›ã€‹]]></title>
        <author><name>SuKai</name><uri>http://sukai.me/</uri></author>
        <link href="http://sukai.me/you-just-seem-to-be-working-hard/"/>
        <updated>2016-06-20T15:50:00Z</updated>
        <published>2016-06-20T15:50:00Z</published>
        <id>http://sukai.me/you-just-seem-to-be-working-hard/</id>
        <content type="html">
            <![CDATA[
             <p>è™½è¯´ã€Šä½ åªæ˜¯çœ‹èµ·æ¥å¾ˆåŠªåŠ›ã€‹ä¹¦æ˜¯ä¸ªçº¯çº¯ç²¹ç²¹çš„é¸¡æ±¤æ–‡ï¼Œä¸è¿‡åœ¨æƒ…ç»ªä¸ç¨³å®šæ—¶å–å–é¸¡æ±¤ä¹Ÿæ— å¦¨  </p>

<p>PSï¼šä¹¦åèµ·å¾—å¾ˆå‡å¤§ç©ºï¼Œæ˜æ˜åªæœ‰Part 1éƒ¨åˆ†è®°å½•äº†æœ‰å…³åŠªåŠ›çš„é¸¡æ±¤  </p>

<p>æœ¬æ–‡ä¸»è¦ä»¥æ‘˜å½•ä¸ºä¸»  </p>

<h4>æ¨èåº</h4>

<p>æˆ‘ä»¬ä¹‹æ‰€ä»¥è§‰ç€ç„¦è™‘ï¼Œæ— éæ˜¯å› ä¸ºç°åœ¨çš„è‡ªå·±å’Œæƒ³è±¡ä¸­çš„è‡ªå·±ï¼Œå¾ˆæœ‰è·ç¦»ã€‚è€Œä¸”æˆ‘ä»¬ç¦»æƒ³è±¡ä¸­çš„è‡ªå·±è¶Šæ¥è¶Šè¿œï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šéƒ½æ˜¯å› ä¸ºè‡ªå·±åœ¨ä¸€ç‚¹ç‚¹åœ°è¾œè´Ÿè‡ªå·±  </p>

<p>å…³äºç„¦è™‘ï¼Œæˆ‘å‘ç°æˆ‘ä»¬æˆ–å¤šæˆ–å°‘åœ°éƒ½é™·å…¥äº†ä¸€ä¸ªæ€ªåœˆï¼Œè¿™ä¸ªæ€ªåœˆå«ï¼šæˆ‘ä»¬çœ‹ä¼¼å¿™ç¢Œï¼Œå®åˆ™ç„¦è™‘ã€‚æˆ‘ä»¬æ€»æ˜¯å¿ƒè¡€æ¥æ½®æƒ³å­¦ä¹ ï¼Œäºæ˜¯ä¹°äº†å¾ˆå¤šå•è¯ä¹¦ï¼Œå†ä¹Ÿæ²¡æœ‰ç¿»å¼€è¿‡ï¼›æˆ‘ä»¬æ€»æ˜¯å¤‡å—åˆºæ¿€å¥èº«ï¼Œäºæ˜¯æ‰¾äº†å¾ˆå¤šæ”»ç•¥ï¼Œå†ä¹Ÿæ²¡æœ‰åŠ¨è¿‡ï¼›æˆ‘ä»¬æ€»æ˜¯ä¿¡èª“æ—¦æ—¦è¦è¯»ä¹¦ï¼Œäºæ˜¯ä¹°äº†å¾ˆå¤šä¹¦ï¼Œå†ä¹Ÿæ²¡æœ‰æ‰“å¼€è¿‡  </p>

<p>æˆ‘ä»¬å¿™ç¢Œï¼Œå¯æˆ‘ä»¬å´æ²¡æœ‰çœŸçš„å»äº†è§£é‚£äº›è‡ªå·±ç²¾æŒ‘ç»†é€‰ç•™ä¸‹çš„å†…å®¹ã€‚æˆ‘ä»¬èŠ±æ—¶é—´æ”¶é›†ï¼Œå´å¿˜äº†æœ€é‡è¦çš„å…¶å®æ˜¯èŠ±æ—¶é—´æ¶ˆåŒ–  </p>

<p>é‚£ä¹ˆæ€ä¹ˆæ‰“è´¥ç„¦è™‘ï¼Ÿæœ€å¥½çš„åŠæ³•å°±æ˜¯å»åšé‚£äº›è®©ä½ ç„¦è™‘çš„äº‹æƒ…  </p>

<p>é€æ¸ï¼Œæˆ‘å¼€å§‹æ¯å¤©ç»™è‡ªå·±å†™è®¡åˆ’ï¼Œæ¯ä¸ªæœˆç»™è‡ªå·±è®¾å®šç›®æ ‡ï¼Œä¸ä¸ºåˆ«äººä¸ä¸ºè¡¨è±¡åœ°åŠªåŠ›ã€‚è·¯ä¸€æ­¥æ­¥åœ°èµ°ï¼Œèµ°å¾—å¾ˆæ…¢ï¼Œä½†æ²¡æœ‰åœ  </p>

<h4>Part 1ï¼šæ¢¦æƒ³å’Œå¥‹æ–—â€”ä½ åªæ˜¯çœ‹èµ·æ¥å¾ˆåŠªåŠ›</h4>

<p><strong>ä½ ä»¥ä¸ºä½ åœ¨åˆç¾¤ï¼Œå…¶å®ä½ åœ¨æµªè´¹é’æ˜¥</strong>  </p>

<p>åˆåˆ°è¯¥åˆçš„ç¾¤ï¼Œå¯»è§…è‡ªå·±è¦çš„ï¼Œæ— è®ºæ˜¯ç†æƒ³ï¼Œè¿˜æ˜¯æœ‹å‹ï¼Œæ‰æ˜¯å¤§å­¦å››å¹´è¯¥åšçš„ã€‚æˆ‘ä¸€ç›´åšä¿¡ï¼Œè‹±é›„ï¼Œæ°¸è¿œæ˜¯å­¤ç‹¬çš„ï¼Œåªæœ‰å°å–½å•°æ‰æ‰å †ã€‚æ— è®ºå¦‚ä½•ï¼Œé‚£äº›æœ‰ç‚¹æˆå°±çš„äººï¼Œéƒ½ä¸åˆç¾¤  </p>

<p><strong>ä»¥èµšé’±ä¸ºç›®çš„çš„å…¼èŒï¼Œæ˜¯æœ€æ„šè ¢çš„æŠ•èµ„</strong>  </p>

<p>é‚£äº›æœ‰å·¥ä½œã€æœ‰é’±äººçš„ç”Ÿæ´»ï¼Œä¸è¦ç¾¡æ…•ï¼Œå› ä¸ºéšç€ä½ å¹´é¾„çš„å¢é•¿ï¼Œè¿Ÿæ—©ä¼šæœ‰ã€‚ä½†æ˜¯ï¼Œä½ æœ‰è€Œä»–ä»¬æ²¡æœ‰çš„ä¸œè¥¿ï¼šæ—¶é—´ã€é’æ˜¥ã€‚å…¶å®æ ¼å¤–é‡è¦  </p>

<p><strong>æœ€å¥½çš„ä¼‘æ¯</strong>  </p>

<p>ä¼‘æ¯çš„æ–¹å¼ä¸æ˜¯ç–¯ç‹‚åœ°ç¡å¤§è§‰ï¼Œè€Œæ˜¯æ¢ä¸ªè„‘å­å»åšå…¶ä»–çš„äº‹æƒ…  </p>

<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬è§‰ç€ç´¯ï¼Œæ‰“ä¸èµ·ç²¾ç¥å»åšä¸€äº›äº‹æƒ…ï¼›æˆ‘ä»¬è§‰ç€å¾ˆå›°ï¼Œå´åœ¨åºŠä¸Šç¡ä¸ç€ã€‚å…¶å®ï¼Œä¸æ˜¯å› ä¸ºæˆ‘ä»¬è€äº†ï¼Œè€Œæ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰åˆç†è¿ç”¨æ—¶é—´ã€‚æˆ‘ä»¬çš„æ—¶é—´å¦‚æ­¤å®è´µï¼Œä¸ºä»€ä¹ˆä¸å»è§„åˆ’åœ°ä½¿ç”¨ï¼Œå¾ˆå¤šæ‰€è°“çš„ä¼‘æ¯æ—¶é—´ï¼Œæ ¹æœ¬ä¸æ˜¯å»è’™å¤´å¤§ç¡ï¼Œè€Œæ˜¯å»è°ƒæ•´ç”Ÿæ´»çŠ¶æ€ï¼Œæ¢ä¸ªå¤§è„‘ã€‚ç¡è§‰åªæ˜¯ä¼—å¤šæ”¾æ¾æ–¹å¼ä¸­çš„ä¸€ç§ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰å¾ˆå¤šæ–¹æ³•  </p>

<p><strong>ä¼˜ç§€ä¸å¤Ÿï¼Œä½ æ˜¯å¦æ— å¯æ›¿ä»£</strong>  </p>

<p>æ¯•ç«ŸåŠªåŠ›çš„äººå¾ˆå¤šï¼Œåœ¨å¤§åŸå¸‚ï¼Œæœ€ä¸ç¼ºçš„å°±æ˜¯æ¢¦æƒ³ï¼Œæœ€ä¸å·®çš„å°±æ˜¯ä¼˜ç§€çš„äºº  </p>

<p>å¹´è½»äººï¼Œåœ¨å­¦ä¹ çš„è·¯ä¸Šï¼Œä¸è¦ä½ç€å¤´çœ‹ä¹¦ï¼Œå¤šå»äººæ‰å¸‚åœºçœ‹çœ‹ç°åœ¨çš„ç¤¾ä¼šéœ€è¦ä»€ä¹ˆä¸“é•¿ï¼Œä¸Šç½‘çœ‹çœ‹å¤§å‹å…¬å¸ç¼ºçš„æ–½æ©ä¹ˆäººï¼ŒæŠŠä¸€æŠ€ä¹‹é•¿ç£¨å¾—æ— å¯æ›¿ä»£ï¼Œå˜æˆè‡ªå·±å–œæ¬¢çš„äº‹ä¸š  </p>

<p><strong>è¿™ä¸–ä¸Šä¸€å®šæœ‰äººï¼Œè¿‡ç€ä½ æƒ³è¦çš„ç”Ÿæ´»</strong>  </p>

<p><strong>æ²¡æœ‰ä¸€æ¡è·¯æ˜¯ç™½èµ°çš„</strong>  </p>

<p>æœ‰æ—¶å€™åªæœ‰èµ°é”™äº†è·¯ï¼Œæ‰é€æ¸æ˜ç™½è‡ªå·±è¦çš„æœªæ¥ï¼›åªæœ‰äº¤é”™äº†æœ‹å‹ï¼Œæ‰é€æ¸çŸ¥é“ä»€ä¹ˆæ˜¯æ‚£éš¾è§çœŸæƒ…ï¼›åªæœ‰çˆ±é”™è¿‡äººï¼Œæ‰é€æ¸æ‡‚å¾—çœŸçˆ±æ˜¯ä»€ä¹ˆ  </p>

<p><strong>åˆ«å’Œè´Ÿèƒ½é‡çš„äººåœ¨ä¸€èµ·</strong>  </p>

<p><strong>ä¸ºä»€ä¹ˆå¾ˆå¤šäººçš„æ–°å¹´æ¢¦æƒ³åªæ˜¯æ¢¦æƒ³</strong>  </p>

<p>æˆ‘åœ¨ä¸Šè¯¾çš„æ—¶å€™ï¼Œç‰¹åˆ«å–œæ¬¢åŸ¹å…»å­¦ç”Ÿå†™æ—¥è®°çš„ä¹ æƒ¯ã€‚æˆ‘å‘Šè¯‰æ‰€æœ‰çš„å­¦ç”Ÿï¼Œå¦‚æœä½ ä¸æ„¿æ„å†™ï¼Œä¹Ÿè¦åœ¨å¤œæ™šç¡è§‰å‰é—­ç›®å…»ç¥åœ°é™é™æ€è€ƒä¸€ä¸‹ä»Šå¤©åšäº†ä»€ä¹ˆï¼Œæ˜å¤©è¿˜è¦åšä»€ä¹ˆã€‚æ€è€ƒçš„æ—¶å€™è¦åˆ†æˆå¿…é¡»åšçš„ã€å–œæ¬¢åšçš„å’Œå¯åšå¯ä¸åšçš„  </p>

<p><strong>æœ€å¥½çš„çœé’±æ–¹æ³•æ˜¯èµšé’±</strong>  </p>

<p>è™½ç„¶é’±ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä½†æ˜¯æ²¡æœ‰é’±ä½ ä¼šå‘ç°å¯¸æ­¥éš¾è¡Œã€‚é‚£ä¹‹åï¼Œæˆ‘å­¦ä¼šäº†ä¸è·Ÿåˆ«äººæ–—äº‰ï¼Œå¾ˆå¤šæ—¶å€™ç½‘ä¸Šæœ‰äººå¯¹æˆ‘å‘èµ·äº†æ”»å‡»ï¼Œæˆ‘å”¯ä¸€èƒ½åšçš„ï¼Œå°±æ˜¯å›é¿ã€‚å› ä¸ºè¿™äº›æ–—äº‰æ²¡æœ‰æ„ä¹‰ï¼Œè€Œæœ‰è¿™äº›æ—¶é—´ï¼Œè¿˜ä¸å¦‚å¤šå¤šæå‡è‡ªå·±æˆ–è€…å¤šå»èµšç‚¹é’±  </p>

<p>ä¸­å›½æœ‰ä¸€å¥å¤è¯ï¼Œæ€è·¯å†³å®šå‡ºè·¯ï¼Œå±è‚¡å†³å®šè„‘è¢‹ã€‚ä¸€ä¸ªè„‘è¢‹é‡Œé¢æ•´å¤©åªæœ‰å‡ è§’é’±çš„äººï¼Œç›¸æ¯”è¿™è¾ˆå­ä¸ä¼šèµšä»€ä¹ˆå¤§é’±ï¼›ä¸€ä¸ªåªä¼šçŸ¥é“å¦‚ä½•çœé’±çš„äººï¼Œä¹Ÿè‡ªç„¶è€Œç„¶åœ°å¤±å»äº†å¦‚ä½•èµšé’±çš„æ€ç»´ã€‚æˆ‘ä¸æ˜¯è®©å¤§å®¶å»æµªè´¹ï¼Œå¯ä½ æ˜¯å¦æƒ³è¿‡ï¼Œä¸€äº›è¿‡äºèŠ‚çœçš„ç”Ÿæ´»ï¼Œå°±æ˜¯æµªè´¹ï¼šä½ æ¯å¤©éƒ½åœ¨äº‰è®ºé‚£å‡ è§’é’±ï¼Œæµªè´¹äº†ç²¾åŠ›å’Œæ—¶é—´å»è¯»ä¹¦å­¦ä¹ ï¼›æŠŠéš”å¤œçš„å‰©èœçƒ­äº†åƒï¼Œåƒåè‚šå­å»åŒ»é™¢èŠ±æ›´å¤šé’±ã€‚çœŸæ­£çœé’±çš„æ–¹å¼ï¼Œæ˜¯å»èµšé’±ï¼Œæ˜¯è®©è‡ªå·±å˜å¾—æ›´å¼ºå¤§ï¼Œè€Œä¸æ˜¯ä¸ºäº†å‡ è§’é’±èŠ±è‡ªå·±æœ€å®è´µçš„æ—¶é—´å»æ°¸æ— ä¼‘æ­¢åœ°äº‰è®º  </p>

<p><strong>ä½ æ€»è¦åº¦è¿‡ç”Ÿå­˜æœŸï¼Œæ‰èƒ½è°ˆç”Ÿæ´»å’Œæ¢¦æƒ³</strong>  </p>

<p>æ— è®ºåœ¨å“ªé‡Œï¼Œä½ éƒ½å…ˆè¦è§£å†³ç”Ÿå­˜çš„é—®é¢˜ï¼Œç„¶åè°ˆç”Ÿæ´»å’Œæ¢¦æƒ³ã€‚æˆ‘æƒ³ï¼Œä»»ä½•æ¢¦æƒ³å’Œç”Ÿæ´»ï¼Œéƒ½æ˜¯åŸºäºåº¦è¿‡ç”Ÿå­˜æœŸé‚£æ®µè¿ä¸‹ä¸ªé¦†å­éƒ½è®¡åˆ’å†ä¸‰çš„æ—¶å…‰åçš„ï¼Œå¦åˆ™ï¼Œéƒ½æ˜¯ç©ºä¸­æ¥¼é˜ã€‚åœ¨åº¦è¿‡ç”Ÿå­˜æœŸçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå¤±å»ä¸€äº›å®è´µçš„ä¸œè¥¿ï¼Œæˆ–è¿‡å¾—ä¸å¦‚æ„ã€‚ä½†ä¸å¿˜åˆå¿ƒï¼Œè®°å¾—æ¯å¤©æé†’è‡ªå·±ï¼šè¿™äº›é»‘æš—åªæ˜¯ä¸ºäº†ä»Šåçš„é»æ˜ï¼Œåšè¿™äº›ä¸æ„¿æ„çš„äº‹æƒ…åªæ˜¯ä¸ºäº†ä»¥åèƒ½æ›´å¥½åœ°ç«™èµ·æ¥ã€‚è¿™æ ·ä¾¿å¥½</p>

            ]]>
        </content>
    </entry>
    
</feed>